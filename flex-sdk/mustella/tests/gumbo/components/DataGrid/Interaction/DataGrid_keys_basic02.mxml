<?xml version="1.0" encoding="utf-8"?>
<!--

  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

-->
<UnitTester testDir="gumbo/components/DataGrid/Interaction/"  xmlns:mx="http://www.adobe.com/2006/mxml" xmlns="*" testSWF="DataGrid_basic_001.mxml">

	<!-- this set of lines form a template that must be in each unit test -->
	<mx:Script>
	<![CDATA[
	public static function init(o:DisplayObject):void
	{
	}					
	]]>
	</mx:Script>
	<mx:Metadata>
	<![CDATA[
		[Mixin]
	]]>
	</mx:Metadata>	
	<!-- end of set of lines that must be in each unit test -->

	<mx:Script>
	<![CDATA[

    		import mx.utils.ObjectUtil;
    		
		import spark.components.DataGrid;
		import spark.components.Grid;
		
		import mx.core.FlexGlobals;
		import flash.events.MouseEvent;
		
		import spark.components.gridClasses.GridColumn;
		import spark.components.gridClasses.GridSelectionMode;
		import spark.components.gridClasses.GridSelection;
		import components.*;
		
		public var grid:Grid;
		

		
	]]>
	</mx:Script>
	
	<testCases>

        <TestCase testID="key_SR_Down_test01" keywords="['key,Down']" description="Test Down navigation on first row dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on the first row -->
            	<RunCode code="grid.caretRowIndex=0"/>
                <DispatchKeyEvent keys="[DOWN]" waitTarget="dataGrid" waitEvent="enterFrame"/>
             	<!-- verify the first, second row are selected -->
             	<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectedIndices.length" value="1" />
		<AssertMethodValue method="value=grid.caretRowIndex" value="1"/>		
		<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectionContainsIndex(1)" value="true" />
            </body>
        </TestCase>
        <TestCase testID="key_SR_Down_test02" keywords="['key,Down']" description="Test Down,Up navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on the first row -->
            	<RunCode code="grid.anchorRowIndex=0"/>
		<RunCode code="grid.caretRowIndex=0"/>
                <DispatchKeyEvent keys="[DOWN,UP]" waitTarget="dataGrid" waitEvent="enterFrame" />
             	<!-- verify the first, second row are selected -->
             	<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectedIndices.length" value="1" />
		<AssertMethodValue method="value=grid.caretRowIndex" value="0"/>
		<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectionContainsIndex(0)" value="true" />

            </body>
        </TestCase>
        
         <TestCase testID="key_SR_Down_test03" keywords="['key,Down']" description="Test Down,Up,Up navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on the first row -->
            	<RunCode code="grid.caretRowIndex=0"/>
            	<RunCode code="grid.anchorRowIndex=1"/>
                <DispatchKeyEvent keys="[DOWN,UP,UP]" waitTarget="dataGrid" waitEvent="enterFrame" />
             	<!-- verify the first, second row are selected -->
             	<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectedIndices.length" value="1" />
		<AssertMethodValue method="value=grid.caretRowIndex" value="0"/>
		<AssertMethodValue method="value=grid.anchorRowIndex" value="0"/>
            </body>
        </TestCase>

         <TestCase testID="key_SR_Down_test04" keywords="['key,Down']" description="Test Down navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on the first row -->
            	<RunCode code="grid.caretRowIndex=1"/>
                <DispatchKeyEvent keys="[DOWN,DOWN,DOWN]" waitTarget="dataGrid" waitEvent="enterFrame" />
             	<!-- verify the first, second row are selected -->
             	<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectedIndices.length" value="1" />
		<AssertMethodValue method="value=grid.caretRowIndex" value="4"/>	
		<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectionContainsIndex(4)" value="true" />

            </body>
        </TestCase>

         <TestCase testID="key_SR_PgDn_test01" keywords="['key,PgDn']" description="Test PageDown navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
				
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on the first row -->
            	<RunCode code="grid.caretRowIndex=1"/>
                <DispatchKeyEvent keys="[PAGE_DOWN]" waitTarget="dataGrid" waitEvent="enterFrame"/>
             	<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectedIndices.length" value="1" />
		<AssertMethodValue method="value=grid.caretRowIndex" value="11"/>
		<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectionContainsIndex(11)" value="true" />
		<CompareBitmap   numColorVariances="20" maxColorVariance="20" url="../Interaction/Baselines/$testID.png" target="dataGrid"/>	
            </body>
        </TestCase>
        
         <TestCase testID="key_SR_PgDn_test02" keywords="['key,PgDn']" description="Test PageDown navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on the middle row -->
            	<RunCode code="grid.caretRowIndex=0"/>
            	<RunCode code="grid.caretColumnIndex=0"/>
            	<RunCode code="grid.anchorRowIndex=6"/>
            	<RunCode code="grid.anchorColumnIndex=0"/>
                <DispatchKeyEvent keys="[PAGE_DOWN]" waitTarget="dataGrid" waitEvent="enterFrame" />
                <RunCode code="trace('grid.caretRowIndex='+grid.caretRowIndex)" />
                <AssertMethodValue method="value=grid.caretRowIndex" value="11"/>
		<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectionContainsIndex(11)" value="true" />
		<CompareBitmap   numColorVariances="20" maxColorVariance="20" url="../Interaction/Baselines/$testID.png" target="dataGrid"/>	
		 		
            </body>
        </TestCase>
        
         <TestCase testID="key_SR_PgDn_test03" keywords="['key,PgDn']" description="Test PageDown navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on last row in that page -->
            	<RunCode code="grid.caretRowIndex=10"/>
                <DispatchKeyEvent keys="[PAGE_DOWN]" waitTarget="dataGrid" waitEvent="enterFrame" />
             	<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectedIndices.length" value="1" />
		<AssertMethodValue method="value=grid.caretRowIndex" value="11"/>             	
		<DispatchKeyEvent keys="[PAGE_DOWN]" waitTarget="dataGrid" waitEvent="enterFrame" />
		
		<AssertMethodValue method="value=grid.caretRowIndex" value="22"/>    		
		<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectionContainsIndex(22)" value="true" />
		<CompareBitmap   numColorVariances="20" maxColorVariance="20" url="../Interaction/Baselines/$testID.png" target="dataGrid"/>	
            </body>
        </TestCase>
        
          <TestCase testID="key_SR_PgDn_test04" keywords="['key,PgDn']" description="Test PageDown navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on last row -->
            	<RunCode code="grid.caretRowIndex=99"/>
		<RunCode code="FlexGlobals.topLevelApplication.dataGrid.ensureCellIsVisible(99)" waitEvent="enterFrame"/>
                <DispatchKeyEvent keys="[PAGE_DOWN]" waitTarget="dataGrid" waitEvent="enterFrame" />
             	<AssertMethodValue method="value=grid.caretRowIndex" value="99"/>       	
            </body>
        </TestCase>

        <TestCase testID="key_SR_PgDn_test05" keywords="['key,PgDn']" description="Test PageDown navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	
		<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setSelectedIndex(20)" />
		<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>
		<!-- scroll to a special position,so PgUp is just a few row, not back on row=0 -->
		 <DispatchMouseEvent target="dataGrid.scroller.verticalScrollBar.thumb" type="rollOver" localX="3" localY="3" />
		 <DispatchMouseEvent type="mouseDown" target="dataGrid.scroller.verticalScrollBar.thumb"  localX="3" localY="3"  />
		 <DispatchMouseEvent type="mouseMove" buttonDown="true" localX="6" localY="12" target="dataGrid.scroller.verticalScrollBar.track" />
		 <DispatchMouseEvent type="mouseMove" buttonDown="true" localX="7" localY="30" target="dataGrid.scroller.verticalScrollBar.track" />
		 <DispatchMouseEvent type="mouseMove" buttonDown="true" localX="7" localY="40" target="dataGrid.scroller.verticalScrollBar.track" />
		 <DispatchMouseEvent type="mouseUp" target="dataGrid.scroller.verticalScrollBar.thumb"  localX="7" localY="40" waitEvent="enterFrame" />
		
		<!-- page up -->
        <DispatchKeyEvent keys="[PAGE_DOWN]" waitTarget="dataGrid" waitEvent="keyUp" />
		<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>
		<AssertMethodValue method="value=grid.caretRowIndex" value="22"/> 
		<CompareBitmap   numColorVariances="20" maxColorVariance="20" url="../Interaction/Baselines/$testID.png" target="dataGrid"/>		
            </body>
        </TestCase>
		
		
		
        
          <TestCase testID="key_SR_PgUp_test01" keywords="['key,PgUp']" description="Test PageUp navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on first row -->
            	<RunCode code="grid.caretRowIndex=0"/>
                <DispatchKeyEvent keys="[PAGE_UP]" waitTarget="dataGrid" waitEvent="enterFrame"/>
		<AssertMethodValue method="value=grid.caretRowIndex" value="0"/>  	
            </body>
        </TestCase>
        
          <TestCase testID="key_SR_PgUp_test02" keywords="['key,PgUp']" description="Test PageUp navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on last row in that page -->
            	<RunCode code="grid.caretRowIndex=0"/>
                <DispatchKeyEvent keys="[PAGE_UP]" waitTarget="dataGrid" waitEvent="enterFrame" />
		<AssertMethodValue method="value=grid.caretRowIndex" value="0"/>  		
            </body>
        </TestCase>
        
          <TestCase testID="key_SR_PgUp_test03" keywords="['key,PgUp']" description="Test PageUp navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on middle row in that page -->
            	<RunCode code="grid.caretRowIndex=5"/>
                <DispatchKeyEvent keys="[PAGE_UP]" waitTarget="dataGrid" waitEvent="enterFrame" />
             	<AssertMethodValue method="value=grid.caretRowIndex" value="0"/>  	
            </body>
        </TestCase>
        

          <TestCase testID="key_SR_PgUp_test04" keywords="['key,PgUp']" description="Test PageUp navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on middle row in second page -->
            	<RunCode code="grid.caretRowIndex=25"/>
		<RunCode code="FlexGlobals.topLevelApplication.dataGrid.ensureCellIsVisible(25)" waitTarget="dataGrid" waitEvent="enterFrame" />
                <DispatchKeyEvent keys="[PAGE_UP]" waitTarget="dataGrid" waitEvent="enterFrame" />
  		<AssertMethodValue method="value=grid.caretRowIndex" value="14"/> 	
            </body>
        </TestCase>
        
          <TestCase testID="key_SR_PgUp_test05" keywords="['key,PgUp']" description="Test PageUp navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on last row  -->
            	<RunCode code="grid.caretRowIndex=99"/>
		<RunCode code="FlexGlobals.topLevelApplication.dataGrid.ensureCellIsVisible(99)" waitEvent="enterFrame"/>
                <DispatchKeyEvent keys="[PAGE_UP]" waitTarget="dataGrid" waitEvent="enterFrame"/>
		<AssertMethodValue method="value=grid.caretRowIndex" value="88"/> 		
            </body>
        </TestCase>
          <TestCase testID="key_SR_PgUp_test06" keywords="['key,PgUp']" description="Test PageUp navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setSelectedIndex(7)" waitEvent="enterFrame"/>
		
		<!-- scroll to a special position,so PgUp is just a few row -->
		 <DispatchMouseEvent target="dataGrid.scroller.verticalScrollBar.thumb" type="rollOver" localX="3" localY="3" />
		 <DispatchMouseEvent type="mouseDown" target="dataGrid.scroller.verticalScrollBar.thumb"  localX="3" localY="3"  />
		 <DispatchMouseEvent type="mouseMove" buttonDown="true" localX="6" localY="20" target="dataGrid.scroller.verticalScrollBar.track" />
		 <DispatchMouseEvent type="mouseUp" target="dataGrid.scroller.verticalScrollBar.thumb"  localX="6" localY="20" waitEvent="mouseUp" />
		<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>
		<!-- page up -->
                <DispatchKeyEvent keys="[PAGE_UP]" waitTarget="dataGrid" waitEvent="enterFrame"/>
		<AssertMethodValue method="value=grid.caretRowIndex" value="5"/> 
		<CompareBitmap   numColorVariances="20" maxColorVariance="20" url="../Interaction/Baselines/$testID.png" target="dataGrid"/>		
            </body>
        </TestCase>
        

          <TestCase testID="key_SR_PgUp_test07" keywords="['key,PgUp']" description="Test PageUp navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setSelectedIndex(7)" />
		<!-- scroll to a special position,so PgUp is just a few row(or one ro) -->
		 <DispatchMouseEvent target="dataGrid.scroller.verticalScrollBar.thumb" type="rollOver" localX="3" localY="3" />
		 <DispatchMouseEvent type="mouseDown" target="dataGrid.scroller.verticalScrollBar.thumb"  localX="3" localY="3"  />
		 <DispatchMouseEvent type="mouseMove" buttonDown="true" localX="6" localY="20" target="dataGrid.scroller.verticalScrollBar.track" />
		 <DispatchMouseEvent type="mouseUp" target="dataGrid.scroller.verticalScrollBar.thumb"  localX="6" localY="20" waitEvent="mouseUp" />
		<!-- page up -->
                <DispatchKeyEvent keys="[PAGE_UP]" waitTarget="dataGrid" waitEvent="enterFrame" />
		<AssertMethodValue method="value=grid.caretRowIndex" value="5"/> 
		<!-- page down again, it should not be on row =7 -->
		 <DispatchKeyEvent keys="[PAGE_DOWN]" waitTarget="dataGrid" waitEvent="enterFrame" />
		<AssertMethodValue method="value=grid.caretRowIndex" value="16"/>
            </body>
        </TestCase>
         <TestCase testID="key_SR_PgUp_PgDown_test01" keywords="['key,PgUp,PgDn']" description="Test PageUp/PgDn navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="grid.caretRowIndex=0"/>
            	<RunCode code="grid.caretColumnIndex=0"/>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<DispatchKeyEvent keys="[PAGE_DOWN]" waitTarget="dataGrid" waitEvent="enterFrame" />
		<AssertMethodValue method="value=grid.caretRowIndex" value="11"/> 
		<!-- page up -->
                <DispatchKeyEvent keys="[PAGE_UP]" waitTarget="dataGrid" waitEvent="enterFrame" />
		<AssertMethodValue method="value=grid.caretRowIndex" value="0"/> 
		<DispatchKeyEvent keys="[PAGE_DOWN]" waitTarget="dataGrid" waitEvent="enterFrame"/>
		<AssertMethodValue method="value=grid.caretRowIndex" value="11"/>
            </body>
        </TestCase>
					        

          <TestCase testID="key_SR_Home_test01" keywords="['key,Home']" description="Test Home navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on last row  -->
            	<RunCode code="grid.caretRowIndex=99"/>
		<RunCode code="FlexGlobals.topLevelApplication.dataGrid.ensureCellIsVisible(99)" waitEvent="enterFrame" />
                <DispatchKeyEvent keys="[HOME]" waitTarget="dataGrid" waitEvent="enterFrame" />
             	<AssertMethodValue method="value=grid.caretRowIndex" value="0"/> 
		<AssertMethodValue method="value=grid.caretColumnIndex" value="-1"/> 
            </body>
        </TestCase>
        
          <TestCase testID="key_SR_Home_test02" keywords="['key,Home']" description="Test Home navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on first row/last page  -->
            	<RunCode code="grid.caretRowIndex=70"/>
		<RunCode code="FlexGlobals.topLevelApplication.dataGrid.ensureCellIsVisible(70)" waitEvent="enterFrame"/>
			
                <DispatchKeyEvent keys="[HOME]" waitTarget="dataGrid" waitEvent="enterFrame"/>
		<AssertMethodValue method="value=grid.caretRowIndex" value="0"/> 	
            </body>
        </TestCase>

          <TestCase testID="key_SR_Home_test03" keywords="['key,Home']" description="Test Home navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on first row/middle pages  -->
            	<RunCode code="grid.caretRowIndex=0"/>             	
		<RunCode code="FlexGlobals.topLevelApplication.dataGrid.ensureCellIsVisible(60)" waitEvent="enterFrame"/>
                <DispatchKeyEvent keys="[HOME]" waitTarget="dataGrid" waitEvent="enterFrame"/>
		<AssertMethodValue method="value=grid.caretRowIndex" value="0"/> 		
            </body>
        </TestCase>
        

          <TestCase testID="key_SR_End_test01" keywords="['key,End']" description="Test End navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on last row/first page  -->
            	<RunCode code="grid.caretRowIndex=19"/>
		<RunCode code="FlexGlobals.topLevelApplication.dataGrid.ensureCellIsVisible(19)" waitEvent="enterFrame"/>
				
                <DispatchKeyEvent keys="[END]" waitTarget="dataGrid" waitEvent="enterFrame" />
		<AssertMethodValue method="value=grid.caretRowIndex" value="99"/> 	
		<AssertMethodValue method="value=grid.caretColumnIndex" value="-1"/> 	
            </body>
        </TestCase>
        
            <TestCase testID="key_SR_End_test02" keywords="['key,End']" description="Test End navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on last row/first page  -->
            	<RunCode code="grid.caretRowIndex=0"/>
				
                <DispatchKeyEvent keys="[END]" waitTarget="dataGrid" waitEvent="enterFrame" />
		<AssertMethodValue method="value=grid.caretRowIndex" value="99"/> 	
		<AssertMethodValue method="value=grid.caretColumnIndex" value="-1"/> 	
            </body>
        </TestCase> 
            <TestCase testID="key_SR_End_test03" keywords="['key,End']" description="Test End navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on last row/first page  -->
            	<RunCode code="grid.caretRowIndex=99"/>
		<RunCode code="FlexGlobals.topLevelApplication.dataGrid.ensureCellIsVisible(99)" waitEvent="enterFrame"/>
                <DispatchKeyEvent keys="[END]" waitTarget="dataGrid" waitEvent="keyUp" />
		<AssertMethodValue method="value=grid.caretRowIndex" value="99"/> 	
		<AssertMethodValue method="value=grid.caretColumnIndex" value="-1"/> 	
            </body>
        </TestCase> 
            <TestCase testID="key_SR_End_test03_2" keywords="['key,End']" description="Test End navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on last row/first page  -->
            	<RunCode code="grid.caretRowIndex=99"/>
                <DispatchKeyEvent keys="[END]" waitTarget="dataGrid" waitEvent="enterFrame" />
		<AssertMethodValue method="value=grid.caretRowIndex" value="99"/> 	
		<AssertMethodValue method="value=grid.caretColumnIndex" value="-1"/> 	
            </body>
        </TestCase> 
		
            <TestCase testID="key_SR_LEFT_test01" keywords="['key,Left']" description="Test left has NO navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on last row/first page  -->
            	<RunCode code="grid.caretRowIndex=1"/>
                <DispatchKeyEvent keys="[LEFT]" waitTarget="dataGrid" waitEvent="enterFrame" />
 		<AssertMethodValue method="value=grid.caretRowIndex" value="1"/> 	
		<AssertMethodValue method="value=grid.caretColumnIndex" value="0"/> 	
            </body>
        </TestCase> 
            <TestCase testID="key_SR_RIGHT_test01" keywords="['key,Right']" description="Test right has NO navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on last row/first page  -->
            	<RunCode code="grid.caretRowIndex=1"/>
                <DispatchKeyEvent keys="[RIGHT]" waitTarget="dataGrid" waitEvent="enterFrame" />
 		<AssertMethodValue method="value=grid.caretRowIndex" value="1"/> 	
		<AssertMethodValue method="value=grid.caretColumnIndex" value="0"/> 	
            </body>
        </TestCase> 				       
        
         <TestCase testID="key_SR_ctrlKey_test01" keywords="['key,ctrlKey']" description="Test ctrlkey navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on the first row -->
            	<RunCode code="grid.caretRowIndex=1"/>
                <DispatchKeyEvent keys="[DOWN,DOWN,DOWN]" waitTarget="dataGrid" ctrlKey="true" waitEvent="enterFrame" />
             	<AssertMethodValue method="value=grid.caretRowIndex" value="4"/>		
            </body>
        </TestCase>
 
         <TestCase testID="key_SR_ctrlKey_test02" keywords="['key,ctrlKey']" description="Test ctrlkey navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<!-- move the focus on the first row -->
            	<RunCode code="grid.caretRowIndex=1"/>
                <DispatchKeyEvent keys="[DOWN,UP,DOWN]" waitTarget="dataGrid" ctrlKey="true" waitEvent="enterFrame" />
             	<!-- verify the first, second row are selected -->
             	<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectedIndices.length" value="0" />
		<AssertMethodValue method="value=grid.caretRowIndex" value="2"/>		
            </body>
        </TestCase>

         <TestCase testID="key_SR_ctrlKey_test03" keywords="['key,ctrlKey']" description="Test ctrlkey+pageUp navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<RunCode code="grid.caretRowIndex=50"/>
             	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.ensureCellIsVisible(50)" waitEvent="enterFrame"/>
                <DispatchKeyEvent keys="[PAGE_UP]" waitTarget="dataGrid" ctrlKey="true" waitEvent="enterFrame" />
             	<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectedIndices.length" value="0" />
		<AssertMethodValue method="value=grid.caretRowIndex" value="39"/>		
            </body>
        </TestCase>

         <TestCase testID="key_SR_ctrlKey_test04" keywords="['key,ctrlKey']" description="Test ctrlkey+pageUp navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<RunCode code="grid.caretRowIndex=20"/>
             	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.ensureCellIsVisible(20)" waitEvent="enterFrame"/>
                <DispatchKeyEvent keys="[PAGE_UP]" waitTarget="dataGrid" ctrlKey="true" waitEvent="enterFrame" />
             	<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectedIndices.length" value="0" />
		<AssertMethodValue method="value=grid.caretRowIndex" value="9"/>	
            </body>
        </TestCase>

         <TestCase testID="key_SR_ctrlKey_test05" keywords="['key,ctrlKey']" description="Test ctrlkey+pageUp navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<RunCode code="grid.caretRowIndex=0"/>
                <DispatchKeyEvent keys="[PAGE_UP]" waitTarget="dataGrid" ctrlKey="true" waitEvent="enterFrame" />
             	<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectedIndices.length" value="0" />
				<AssertMethodValue method="value=grid.caretRowIndex" value="0"/>		
            </body>
        </TestCase>

         <TestCase testID="key_SR_ctrlKey_test06" keywords="['key,ctrlKey']" description="Test ctrlkey+pageUp navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
		<!-- todo: need check the scrolling pages -->
            	<RunCode code="grid.caretRowIndex=1"/>
                <DispatchKeyEvent keys="[PAGE_UP]" waitTarget="dataGrid" ctrlKey="true" waitEvent="enterFrame"/>
             	<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectedIndices.length" value="0" />
		<AssertMethodValue method="value=grid.caretRowIndex" value="0"/>		
            </body>
        </TestCase>
        
        
          <TestCase testID="key_SR_ctrlKey_test07" keywords="['key,ctrlKey']" description="Test ctrlkey+pageDown navigation on dataGrid">
            <setup>
                <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
            </setup>
            <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
            	<RunCode code="grid.caretRowIndex=20"/>
             	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.ensureCellIsVisible(20)" waitEvent="enterFrame"/>
                <DispatchKeyEvent keys="[PAGE_DOWN]" waitTarget="dataGrid" ctrlKey="true" waitEvent="enterFrame"/>
             	<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectedIndices.length" value="0" />
		<AssertMethodValue method="value=grid.caretRowIndex" value="31"/>		
            </body>
        </TestCase>
 
           <TestCase testID="key_SR_ctrlKey_test08" keywords="['key,ctrlKey']" description="Test ctrlkey+pageDown navigation on dataGrid">
             <setup>
                 <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                 <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
 		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
             </setup>
             <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
 				<!-- last row in that page -->
             	<RunCode code="grid.caretRowIndex=99"/>
             	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.ensureCellIsVisible(99)" waitEvent="enterFrame"/>
                 <DispatchKeyEvent keys="[PAGE_DOWN]" waitTarget="dataGrid" ctrlKey="true" waitEvent="enterFrame" />
              	<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectedIndices.length" value="0" />
 				<AssertMethodValue method="value=grid.caretRowIndex" value="99"/>		
             </body>
        </TestCase>
        
           <TestCase testID="key_SR_ctrlKey_test09" keywords="['key,ctrlKey']" description="Test ctrlkey+pageDown navigation on dataGrid">
             <setup>
                 <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                 <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
 		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
             </setup>
             <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
 		<!-- first row in that page -->
             	<RunCode code="grid.caretRowIndex=0"/>
                 <DispatchKeyEvent keys="[PAGE_DOWN]" waitTarget="dataGrid" ctrlKey="true" waitEvent="enterFrame"/>
              	<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectedIndices.length" value="0" />
 		<AssertMethodValue method="value=grid.caretRowIndex" value="11"/>		
             </body>
        </TestCase>
        
        <TestCase testID="key_SR_ctrlKey_test10" keywords="['key,ctrlKey']" description="Test ctrlkey+home navigation on dataGrid">
             <setup>
                 <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                 <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
 		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
             </setup>
             <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
 		<!-- first row in that page -->
             	<RunCode code="grid.caretRowIndex=0"/>
                 <DispatchKeyEvent keys="[HOME]" waitTarget="dataGrid" ctrlKey="true" waitEvent="enterFrame" />
              	<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectedIndices.length" value="0" />
 		<AssertMethodValue method="value=grid.caretRowIndex" value="0"/>		
             </body>
        </TestCase>

        <TestCase testID="key_SR_ctrlKey_test11" keywords="['key,ctrlKey']" description="Test ctrlkey+home navigation on dataGrid">
             <setup>
                 <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                 <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
 		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
             </setup>
             <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
 		<!-- a row at end of that page -->
             	<RunCode code="grid.caretRowIndex=30"/>
             	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.ensureCellIsVisible(30)" waitEvent="enterFrame"/>
                 <DispatchKeyEvent keys="[HOME]" waitTarget="dataGrid" ctrlKey="true" waitEvent="enterFrame" />
              	<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectedIndices.length" value="0" />
 		<AssertMethodValue method="value=grid.caretRowIndex" value="0"/>		
             </body>
        </TestCase>

        <TestCase testID="key_SR_ctrlKey_test12" keywords="['key,ctrlKey']" description="Test ctrlkey+home navigation on dataGrid">
             <setup>
                 <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                 <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
 		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
             </setup>
             <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
 		<!-- last row in that page -->
             	<RunCode code="grid.caretRowIndex=99"/>
             	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.ensureCellIsVisible(99)" waitEvent="enterFrame"/>
                 <DispatchKeyEvent keys="[HOME]" waitTarget="dataGrid" ctrlKey="true" waitEvent="enterFrame" />
              	<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectedIndices.length" value="0" />
 		<AssertMethodValue method="value=grid.caretRowIndex" value="0"/>		
             </body>
        </TestCase>

        <TestCase testID="key_SR_ctrlKey_test13" keywords="['key,ctrlKey']" description="Test ctrlkey+end navigation on dataGrid">
             <setup>
                 <ResetComponent target="dataGrid" className="components.DataGrid_comp1" waitTarget="dataGrid" waitEvent="updateComplete"/>
				<WaitForEvent target="stage" eventName="enterFrame" numExpectedEvents="2"/>	
                 <RunCode code="FlexGlobals.topLevelApplication.dataGrid.selectionMode=GridSelectionMode.SINGLE_ROW;"/>				
 		<RunCode code="grid=FlexGlobals.topLevelApplication.dataGrid.grid"/>
             </setup>
             <body>
            	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.setFocus()" waitEvent="focusIn" waitTarget="dataGrid"/>
 		<!-- last row in that page -->
             	<RunCode code="grid.caretRowIndex=0"/>
             	<RunCode code="FlexGlobals.topLevelApplication.dataGrid.ensureCellIsVisible(99)" waitEvent="enterFrame"/>
                 <DispatchKeyEvent keys="[END]" waitTarget="dataGrid" ctrlKey="true" waitEvent="keyUp" />
              	<AssertMethodValue method="value=FlexGlobals.topLevelApplication.dataGrid.selectedIndices.length" value="0" />
 		<AssertMethodValue method="value=grid.caretRowIndex" value="99"/>		
             </body>
        </TestCase>
		      
        
        
	</testCases>                
	     
</UnitTester>
