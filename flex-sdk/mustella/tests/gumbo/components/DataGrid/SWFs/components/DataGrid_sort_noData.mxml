<s:DataGrid xmlns:fx="http://ns.adobe.com/mxml/2009" xmlns:mx="library://ns.adobe.com/flex/mx" 
xmlns:s="library://ns.adobe.com/flex/spark" 
	  selectionMode="{GridSelectionMode.MULTIPLE_CELLS}" variableRowHeight="true">
	<fx:Declarations>
		<s:ArrayCollection id="dp1">
			<s:DataItem country="USA" firstName="JOZY JOZY JOZY" lastName="HamFN" position="FW" club="VilCB" number="17"/>
   			<s:DataItem country="UNITED  STATE  AMERICA" firstName="JOYROSEMARY" lastName="DBL007" position="FW" club="VilCB" number="17"/>
   			
   			<s:DataItem country="USA" firstName="CarFN" lastName="BocFN" position="DF" club="RenCB" number="3"/>
   			<s:DataItem country="USA" firstName="TimFN" lastName="HowFN" position="GK" club="EveCB" number="1"/>
   			<s:DataItem country="USA" firstName="CliDB" lastName="DemFN" position="MF" club="FulCB" number="8"/>
   			<s:DataItem country="USA" firstName="RobFN" lastName="Findley Findley Findley Findley" position="FW" club="Real Salt Lake" number="20"/>
   			<s:DataItem country="USA" firstName="H" lastName="G" position="FW" club="PacCB" number="9"/>
   							
		</s:ArrayCollection>
		<s:ArrayCollection id="dp2">
			<s:DataItem country="USA" firstName="JOZ" lastName="Haming PI Iota;" position="FW" club="VilCB" number="17"/>
   			<s:DataItem country="UNITED  STATE  AMERICA" firstName="JOYROSEMARY" lastName="Haming PI Sigma;" position="FW" club="VilCB" number="17"/>
   			<s:DataItem country="USA" firstName="CarFN" lastName="Haming PI Xi;" position="DF" club="RenCB" number="3"/>
   								
		</s:ArrayCollection>
		<s:ArrayCollection id="dp3">
			<s:DataItem  firstName="TimFN" lastName="HowFN" number="1"/>
   			<s:DataItem  firstName="Clinton Wood" lastName="DemFN"  number="8"/>
   			<s:DataItem  firstName="H" lastName="G" number="9"/>
   							
		</s:ArrayCollection>

		 
		
		<s:ArrayCollection id="dp3Data">
			<s:DataItem country="USA" firstName="JOZY JOZY JOZY" lastName="HamFN" position="FW" club="VilCB" number="17"/>
			<s:DataItem country="UNITED  STATE  AMERICA" firstName="JOYROSEMARY" lastName="DBL007" position="FW" club="VilCB" number="17"/>
			<s:DataItem country="USA" firstName="CarFN" lastName="BocFN" position="DF" club="RenCB" number="3"/>
   		</s:ArrayCollection>
   		
		<s:ArrayCollection id="dp4Data">
			<s:DataItem country="USA" firstName="JOZY JOZY JOZY" lastName="HamFN" position="FW" club="VilCB" number="17"/>
			<s:DataItem country="UNITED  STATE  AMERICA" firstName="JOYROSEMARY2" lastName="DBL007" position="FW" club="VilCB" number="17"/>
			<s:DataItem country="USA" firstName="CarFN" lastName="BocFN" position="DF" club="RenCB" number="3"/>
   			<s:DataItem country="UNITED  STATE  AMERICA" firstName="JOYROSEMARY1" lastName="DBL007" position="FW" club="VilCB" number="17"/>
   				
   		</s:ArrayCollection>
		<s:ArrayCollection id="dp5">
			<fx:Object country="c1" firstName="JozFN" lastName="AltFN" position="FW" club="VilCB" number="17">
				<fx:address>
					<fx:Object town='waltham' state='MA' zipCode='02452'/>
				</fx:address>
			</fx:Object>
			<fx:Object country="c2"  firstName="CarFN" lastName="BocFN" position="DF" club="RenCB" number="3">
				<fx:address>
					<fx:Object town='wilmington' state='MA' zipCode='01887'/>
				</fx:address>
			</fx:Object>
			<fx:Object country="c2"  firstName="Carlos1" lastName="BocFN" position="DF" club="RenCB" number="3">
				<fx:address>
					<fx:Object town='wilmington' state='MA' zipCode='01887'/>
				</fx:address>
			</fx:Object>
			<fx:Object country="c2"  firstName="Carlos2" lastName="BocFN" position="DF" club="RenCB" number="3">
				<fx:address>
					<fx:Object town='wilmington' state='MA' zipCode='01887'/>
				</fx:address>
			</fx:Object>

			<fx:Object country="c3" firstName="TimFN" lastName="HowFN" position="GK" club="EveCB" number="1">
				<fx:address>
					<fx:Object town='walnut creek' state='CA' zipCode='95103'/>
				</fx:address>
			</fx:Object>
			<fx:Object country="c4"  firstName="CliFN" lastName="DemFN" position="MF" club="FulCB" number="8">
				<fx:address>
					<fx:Object town='SF' state='CA' zipCode='95001'/>
				</fx:address>
			</fx:Object>
				
		</s:ArrayCollection>		
   		
		<s:ArrayCollection id="dpWithDate">
			<s:DataItem  firstName="JOZY JOZY JOZY" lastName="HamFN" birthDate="{new Date(1972,2,18)}"/>
			<s:DataItem   firstName="JOYROSEMARY" lastName="DBL007" birthDate="{new Date(1972,3,20)}"/>
			<s:DataItem  firstName="CarFN" lastName="BocFN" birthDate="{new Date(1971,6,19)}"/>
   		</s:ArrayCollection>
		<s:ArrayCollection id="columns1">					 
   			<s:GridColumn id="c1_1" dataField="country" width="50" sortable="true"/>
   			<s:GridColumn id="c1_2" dataField="firstName" sortable="true"/>
   			<s:GridColumn id="c1_3" dataField="lastName" width="100" sortable="true"/>
   			<s:GridColumn id="c1_4" dataField="position" sortable="true"/>
   			<s:GridColumn id="c1_5" dataField="club" sortable="true"/>
   			<s:GridColumn id="c1_6" dataField="number" sortable="true"/>
   		</s:ArrayCollection>
   		
   		<s:ArrayCollection id="columns2">
   			<s:GridColumn id="c2_1" dataField="number"/>
   			<s:GridColumn id="c2_2" dataField="lastName" width="150" visible="false"/>
   			<s:GridColumn id="c2_3" dataField="firstName"/>											
   		</s:ArrayCollection>
   		<s:ArrayList id="columns42">					 				
			<s:GridColumn id="c42_1" dataField="country"  />			
			<s:GridColumn id="c42_2" dataField="firstName"  visible="false" sortable="true"  />									
			<s:GridColumn id="c42_3" dataField="lastName"   sortable="false"  />								
		</s:ArrayList>
		<s:ArrayCollection id="columnsUpdate1">					 
			<s:GridColumn id="cu1_1" dataField="country" width="50" visible="true"/>
			<s:GridColumn id="cu1_2" dataField="firstName" visible="true"/>
			<s:GridColumn id="cu1_3" dataField="lastName" width="100" visible="true"/>
			<s:GridColumn id="cu1_4" dataField="position" visible="true"/>
			<s:GridColumn id="cu1_5" dataField="club"/>
			<s:GridColumn id="cu1_6" dataField="number"/>
		</s:ArrayCollection>
		
		<s:ArrayCollection id="columnsUpdate2">
			<s:GridColumn id="cu2_1" dataField="number"  visible="true"/>
			<s:GridColumn id="cu2_2" dataField="lastName" width="150"  visible="true"/>
			<s:GridColumn id="cu2_3" dataField="firstName"  visible="true"/>											
		</s:ArrayCollection>
		
		
   		<s:ArrayCollection id="columns3">
   			<s:GridColumn id="c3_1" dataField="firstName"/>
   			<s:GridColumn id="c3_2" dataField="lastName"/>
   			<s:GridColumn id="c3_3" dataField="birthDate" sortable="true"/>
   		</s:ArrayCollection>		
  		<s:ArrayCollection id="columns5">
  			<s:GridColumn id="c5_0" dataField="country" sortable="true" width="50"/>
   			<s:GridColumn id="c5_1" dataField="firstName" width="150"/>
   			<s:GridColumn id="c5_2" dataField="lastName" width="150"/>
   			<s:GridColumn id="c5_3" dataField="address.town" width="150" sortable="true"/>
   		</s:ArrayCollection>	
   		
		<s:DataItem id="typicalItem1" country="ABCDEFGHIJKL0123456789" firstName="MNOPQRSTUVW" lastName="XYZ" />
		<s:DataItem id="typicalItem2" country="56789" firstName="MNOPQ" lastName="XYZTW" />
		
		<s:DataItem id="typicalItem3" country="ABCDEF" />
		<s:DataItem id="typicalItem4" country="56789" firstName="MNOPQ" lastName="XYZTW" undefined1="12345" />
		<s:DataItem id="typicalItem5"/>
	</fx:Declarations>
	
	<fx:Script>	
		<![CDATA[			
			import mx.collections.ArrayCollection;
			import spark.components.DataGrid;
			
			import spark.components.gridClasses.GridSelection;
			import spark.components.gridClasses.GridSelectionMode;
			import spark.components.gridClasses.GridColumn;
			
			public var largeItem:Object={country:"USA", firstName:"ZOZY JOZY JOZY", lastName:"Zamingway"};
			public var smallItem:Object={country:"USA", firstName:"AOZY JOZY JOZY", lastName:"Amingway"};
			public var newItem:Object={country:"USA", firstName:"AOZY JOZY JOZY", lastName:"Amingway", product:"ProductFx"};
			
			public function addItem2(newItem:Object, pos:int):void{
			
				this.dataProvider.addItemAt(newItem,pos);
			}
			
			public function addItem():void{			
				var newItem:Object = new Object();
				newItem.country="0123456789ABCDEFGHIJKL";
				newItem.firstName="WVUTSRQPONM";
				newItem.lastName="ZYX";
				if (this.dataProvider==null)
					this.dataProvider=new ArrayCollection();
				this.dataProvider.addItemAt(newItem,0);
			}	
			
			public function insertColumns(index:int, count:int):void
			{

				for (var i:int=0;i<count;i++)
				{
					//	dataGrid.grid.gridSelection.setRow(index+i);
					trace("row="+(index+i));
					createColumn2(i);
				}

			}	
			public function createItem(index:int):Object
			{
				var t:int=index;
				var rowCount:int=dp1.length;
				if (index>=rowCount) index=index-(int(index/rowCount))*rowCount;
				const firstName:String = dp1[index].firstName;
				const lastName:String = dp1[index].lastName;
				const country:String = dp1[index].country;
				const position:String= dp1[index].position;
				const club:String= dp1[index].club;
				const number:int= dp1[index].number;
				
				return {country:country, firstName: firstName, lastName: lastName, club: club,position:position,number:number};
			}
			private function createColumn2(index:int):void
			{
				const columnName:String = "colmn_"+index;
				var obj:Object;
				var columnObj:GridColumn;
				trace("dataProvider.length="+this.dataProvider.length);
				if (this.dataProvider.length==0)
				{
					//create 10 data
					for (var j:int=0;j<5;j++)
					{
						obj=createItem(0);
						obj[columnName]="value_"+j;
						this.dataProvider.addItem(obj);
					}
				}else{
					for (var i:int=0;i<this.dataProvider.length;i++)
					{
						obj=this.dataProvider.getItemAt(i);
						//add the new column data
						obj[columnName]="value_"+i;
					}
				}
				trace("columns.length="+this.columns.length);
				columnObj=new GridColumn();
				columnObj.dataField=columnName;
				if (this.columns.length==0)
					this.columns.addItem(columnObj);
				else 
					this.columns.addItemAt(columnObj,this.columns.length-1);
			}
			
		]]>
	</fx:Script>
		<s:columns>
			<s:ArrayList id="columns4">					 				
				<s:GridColumn id="c41_1" dataField="country"  />			
				<s:GridColumn id="c41_2" dataField="firstName"  sortable="true"  />									
				<s:GridColumn id="c41_3" dataField="lastName"   sortable="false"  />								
			</s:ArrayList>				
		</s:columns>		
		
		<s:typicalItem>
			<s:DataItem country="ABCDEFGHIJKL0123456789" firstName="MNOPQRSTUVW" lastName="XYZ" />
		</s:typicalItem>
		
	</s:DataGrid>