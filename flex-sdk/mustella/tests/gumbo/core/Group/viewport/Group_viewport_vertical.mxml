<?xml version="1.0" encoding="utf-8"?>
<!--

  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

-->
<UnitTester xmlns:fx="http://ns.adobe.com/mxml/2009" xmlns:mx="library://ns.adobe.com/flex/mx" xmlns:s="library://ns.adobe.com/flex/spark"  xmlns:m="http://ns.adobe.com/mxml/2009" xmlns="*" testDir="gumbo/core/Group/viewport/" testSWF="GroupBasic.mxml">
  <!-- this set of lines form a template that must be in each unit test -->
  <fx:Script>
    <![CDATA[
	public static function init(o:DisplayObject):void { }
	]]>
  </fx:Script>
  <fx:Metadata>
    <![CDATA[
	[Mixin]
	]]>
  </fx:Metadata>
  <!-- end of set of lines that must be in each unit test -->
  <fx:Script>
    <![CDATA[
	
	  import spark.layouts.*;
      import mx.controls.Label;
      import comps.*;
	  import spark.components.Group;
	  import mx.graphics.*;
	  import spark.core.NavigationUnit;
	  import spark.components.Button;
	  
	]]>
  </fx:Script>
  <testCases>
  
<!-- 

- - - - - - - - - - - - 
Group Viewport Testing
- - - - - - - - - - - - 

The viewport tests have been split into different files for easy of use.

 - Tests that apply to general viewport functionality and not specific to a specific layout are in Group_viewport_main.mxml
 - Tests that are specific to VerticalLayout are in Group_viewport_vertical.mxml
 - Tests that are specific to HorizontalLayout are in Group_viewport_horizontal.mxml
 
 - VerticalLayout tests are duplicated into VGroup_viewport_vertical.mxml
     (A VGroup class will be used instead of creating a Group and assigning it a layout)
 - HorizontalLayout tests are duplicated into HGroup_viewport_horizontal.mxml
     (A HGroup class will be used instead of creating a Group and assigning it a layout)
 
 - NOTE: A subset of these tests will be duplicated to the DataGroup component.  
   If you modify tests in one component, the tests should also be updated in the other.

-->  


<!-- gap property 

+ check default
+ check positive, negative, zero gaps
+ check gap with variableRowHeight = true and false
+ check gaps off screen are working
+ change height of items and ensure gap doesnt change

-->

		<TestCase testID="Group_viewport_VL_gap_default" keywords="[Group, viewport, gap]" description="check the default value of gap">
			<body>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<AssertMethodValue method="value=application.group1.layout.gap" value="6" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_gap_5_rowHeightVariable" keywords="[Group, viewport, gap]" description="visual check that a positive gap works properly">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.gap = 5" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="application.addCustomRect(application.group1, 100,   1, 0x000011)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,   5, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  10, 0x000055)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  20, 0x000077)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 100, 0x000099)" waitTarget="group1" waitEvent="updateComplete"  />
			</setup>
			<body>
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).variableRowHeight" value="true" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_gap_5_rowHeightVariable.png" target="group1" timeout="2000" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_gap_5_rowHeightFixed" keywords="[Group, viewport, gap]" description="visual check that a positive gap works with a fixed row height">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="application.group1.layout.gap = 5" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.group1.layout.variableRowHeight = false" waitTarget="group1" waitEvent="updateComplete"  />
				
				<RunCode code="application.addCustomRect(application.group1, 100,   1, 0x000011)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,   5, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  10, 0x000055)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  20, 0x000077)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 100, 0x000099)" waitTarget="group1" waitEvent="updateComplete"  />
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.variableRowHeight" value="false" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_gap_5_rowHeightFixed.png" target="group1" timeout="2000" />
			</body>
		</TestCase>
			
		<TestCase testID="Group_viewport_VL_gap_5_offScreen" keywords="[Group, viewport, gap]" description="visual check that gaps still work when scrolling the viewport">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="application.group1.layout.gap = 5" waitTarget="group1" waitEvent="updateComplete"  />
				
				<RunCode code="application.addCustomRect(application.group1, 100,  20, 0x000011)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  20, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  20, 0x000055)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  20, 0x000077)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 100, 0x000099)" waitTarget="group1" waitEvent="updateComplete"  />
				<SetProperty target="group1" propertyName="verticalScrollPosition"  value="50" />
				<AssertEvent target="group1.layout" eventName="indexInViewChanged" eventClass="flash.events::Event" />
			</setup>
			<body>
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_gap_5_offScreen.png" target="" timeout="2000" />
			</body>
		</TestCase>

		<TestCase testID="Group_viewport_VL_gap_5_change_item_heights" keywords="[Group, viewport, gap]" description="visual check that gaps still work when resizing items">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="application.group1.layout.gap = 5" waitTarget="group1" waitEvent="updateComplete"  />
				
				<RunCode code="application.addCustomRect(application.group1, 100,  20, 0x000011)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  20, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  20, 0x000055)" waitTarget="group1" waitEvent="updateComplete"  />
			</setup>
			<body>
				<RunCode code="application.group1.getElementAt(0).height = 2" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.group1.getElementAt(1).height = 2" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.group1.getElementAt(2).height = 2" waitTarget="group1" waitEvent="updateComplete"  />								
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_gap_5_change_item_heights.png" target="group1" timeout="2000" />
			</body>
		</TestCase>
		
<!-- rowCount property -->

<!--

+ check default value
+ test data binding
+ set a group's dimensions, and then
	 + push/pull items into view with gap
	 + change variableRowHeight 
	 + push/pull with rowHeight
	 + change item heights to pull an item in
	 + change item heights to push an item out
	 + remove items
	 + add items
-->

	<TestCase testID="Group_viewport_VL_dataBinding" keywords="[Group, viewport, rowCount]" description="check data binding of rowCount, firstIndexInView, lastIndexInView">
		<setup>
			<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
			<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
			<RunCode code="value=application.group1.addElement(new VerticalLayoutDataBinding())" waitEvent="updateComplete" waitTarget="group1" />
			
			<AssertMethodValue method="value=application.group1.getElementAt(0).label_firstIndexInView.text" value="0" />
			<AssertMethodValue method="value=application.group1.getElementAt(0).label_lastIndexInView.text" value="1" />
			<AssertMethodValue method="value=application.group1.getElementAt(0).label_rowCount.text" value="2" />

			<RunCode code="value=application.group1.getElementAt(0).innerGroup.verticalScrollPosition = 50" />
			<RunCode code="value=application.group1.getElementAt(0).innerGroup.getElementAt(1).height = 1" />
			<Pause timeout="200" />
			
		</setup>
		<body>
			<AssertMethodValue method="value=application.group1.getElementAt(0).label_firstIndexInView.text" value="1" />
			<AssertMethodValue method="value=application.group1.getElementAt(0).label_lastIndexInView.text" value="3" />
			<AssertMethodValue method="value=application.group1.getElementAt(0).label_rowCount.text" value="3" />
		</body>
	</TestCase>	



		<TestCase testID="Group_viewport_VL_rowCount_default" keywords="[Group, viewport, rowCount]" description="check the default value of rowCount">
			<body>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="0" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_rowCount_all_visible" keywords="[Group, viewport, rowCount]" description="all items visible in the viewport">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="application.addCustomRect(application.group1, 100, 20, 0x000011)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 20, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="2" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_rowCount_some_visible" keywords="[Group, viewport, rowCount]" description="only two items are in the viewport">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="application.addCustomRect(application.group1, 100, 20, 0x000011)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 20, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 20, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="2" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_rowCount_pixel_edge" keywords="[Group, viewport, rowCount]" description="show only one pixel of an item and have it counted">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="53" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="application.addCustomRect(application.group1, 100, 20, 0x000011)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 20, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 20, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 20, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="3" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_rowCount_rowHeightFixed" keywords="[Group, viewport, rowCount]" description="check that default rowHeight causes correct rowCount">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="60" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="application.group1.layout.gap = 0" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.group1.layout.variableRowHeight = false" waitTarget="group1" waitEvent="updateComplete"  />
				
				<RunCode code="application.addCustomRect(application.group1, 100,   1, 0x000011)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,   5, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  10, 0x000055)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  20, 0x000077)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 100, 0x000099)" waitTarget="group1" waitEvent="updateComplete"  />
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.variableRowHeight" value="false" />
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="5" />
			</body>
		</TestCase>
		
		<TestCase testID="Group_viewport_VL_rowCount_rowHeightFixed_50_push" keywords="[Group, viewport, rowCount]" description="check that rowCount correct when row height increased">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="60" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="application.addCustomRect(application.group1, 100,   1, 0x000011)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,   5, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  10, 0x000055)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  20, 0x000077)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 100, 0x000099)" waitTarget="group1" waitEvent="updateComplete"  />
				
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="4" />
				
				<RunCode code="application.group1.layout.rowHeight = 50" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.group1.layout.variableRowHeight = false" waitTarget="group1.layout" waitEvent="indexInViewChanged"  />
				
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.variableRowHeight" value="false" />
				<AssertMethodValue method="value=application.group1.layout.rowHeight" value="50" />
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="2" />
			</body>
		</TestCase>			
		
		<TestCase testID="Group_viewport_VL_rowCount_rowHeightFixed_50_pull" keywords="[Group, viewport, rowCount]" description="check that rowCount correct when row height decreased">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="60" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="application.addCustomRect(application.group1, 100,   1, 0x000011)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,   5, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  10, 0x000055)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  20, 0x000077)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 100, 0x000099)" waitTarget="group1" waitEvent="updateComplete"  />
				
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="4" />
				
				<RunCode code="application.group1.layout.rowHeight = 5" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.group1.layout.variableRowHeight = false" waitTarget="group1.layout" waitEvent="indexInViewChanged" />
				
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.variableRowHeight" value="false" />
				<AssertMethodValue method="value=application.group1.layout.rowHeight" value="5" />
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="5" />
			</body>
		</TestCase>	
				
		<TestCase testID="Group_viewport_VL_rowCount_change_item_height_pull" keywords="[Group, viewport, rowCount]" description="check that decreasing an item's height causes rowCount to update correctly">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="application.addCustomRect(application.group1, 100,  100, 0x000011)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  5, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  6, 0x000055)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  7, 0x000077)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  100, 0x000099)" waitTarget="group1" waitEvent="updateComplete"  />
				
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="1" />
				
				<RunCode code="application.group1.getElementAt(0).height = 5" waitTarget="group1.layout" waitEvent="indexInViewChanged"  />		
				<RunCode code="application.group1.getElementAt(4).height = 5" waitTarget="group1" waitEvent="updateComplete"  />								
				
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="5" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_rowCount_change_item_height_push" keywords="[Group, viewport, rowCount]" description="check that increasing an item's height causes rowCount to update correctly">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="application.addCustomRect(application.group1, 100,  4, 0x000011)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  5, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  6, 0x000055)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  7, 0x000077)" waitTarget="group1" waitEvent="updateComplete"  />
				
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="4" />
				
				<RunCode code="application.group1.getElementAt(0).height = 100" waitTarget="group1.layout" waitEvent="indexInViewChanged"  />								
				
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="1" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_rowCount_change_gap_push" keywords="[Group, viewport, rowCount]" description="check that increasing gap causes rowCount to update correctly">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="application.addCustomRect(application.group1, 100,  4, 0x000011)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  5, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  6, 0x000055)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  7, 0x000077)" waitTarget="group1" waitEvent="updateComplete"  />
				
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="4" />
				
				<RunCode code="application.group1.layout.gap = 30" waitTarget="group1.layout" waitEvent="indexInViewChanged"  />
				
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="2" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_rowCount_change_gap_pull" keywords="[Group, viewport, rowCount]" description="check that decreasing gap causes rowCount to update correctly">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="application.group1.layout.gap = 30" waitTarget="group1" waitEvent="updateComplete"  />
				
				<RunCode code="application.addCustomRect(application.group1, 100,  4, 0x000011)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  5, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  6, 0x000055)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  7, 0x000077)" waitTarget="group1" waitEvent="updateComplete"  />
				
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="2" />
				
				<RunCode code="application.group1.layout.gap = 0" waitTarget="group1.layout" waitEvent="indexInViewChanged"  />
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="4" />
			</body>
		</TestCase>			
				
		<TestCase testID="Group_viewport_VL_rowCount_removeItems_offscreen" keywords="[Group, viewport, rowCount]" description="check that removing items off screen doesnt change rowCount">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
								
				<RunCode code="application.addCustomRect(application.group1, 100,   1, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,   5, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  10, 0x000055)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  20, 0x000077)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 100, 0x000077)" waitTarget="group1" waitEvent="updateComplete"  />
				
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="4" />
				
				<RunCode code="application.group1.removeElementAt(4)" waitTarget="group1" waitEvent="updateComplete"  />
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="4" />
			</body>
		</TestCase>			

		<TestCase testID="Group_viewport_VL_rowCount_removeItems_onscreen" keywords="[Group, viewport, rowCount]" description="check that removing items on screen changes rowCount">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
								
				<RunCode code="application.addCustomRect(application.group1, 100,   1, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,   5, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  10, 0x000055)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,  20, 0x000077)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 100, 0x000077)" waitTarget="group1" waitEvent="updateComplete"  />
				
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="4" />
				
				<RunCode code="application.group1.removeElementAt(0)" waitTarget="group1.layout" waitEvent="indexInViewChanged"  />
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="3" />
			</body>
		</TestCase>									
				
		<TestCase testID="Group_viewport_VL_rowCount_addItems_onscreen" keywords="[Group, viewport, rowCount]" description="check that adding items on screen changes rowCount">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
								
				<RunCode code="application.addCustomRect(application.group1, 100,   1, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,   5, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="2" />
				
				<RunCode code="application.addCustomRect(application.group1, 100,  10, 0x000033)" waitTarget="group1.layout" waitEvent="indexInViewChanged"  />
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="3" />
			</body>
		</TestCase>									
			
		<TestCase testID="Group_viewport_VL_rowCount_addItems_offscreen" keywords="[Group, viewport, rowCount]" description="check that adding items off screen doesnt change rowCount">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
								
				<RunCode code="application.addCustomRect(application.group1, 100,   25, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100,   25, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="2" />
				
				<RunCode code="application.addCustomRect(application.group1, 100,  10, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="2" />
			</body>
		</TestCase>	
		

<!-- variableRowHeight property -->

<!--

+ Add items of different heights
+ Change item heights at runtime  
	+ with false
	+ with true
	+ flip false to true
+ change height of the group
+ set rowHeight with variableRowHeight true - ensure rowHeight ignored
+ set rowHeight with variableRowHeight false - ensure rowHeight envored 
+ swap items into view (with true/false)
+ swap items in view (with true/false)
+ check children position and dimension are correct when this is false/true

-->

		<TestCase testID="Group_viewport_VL_variableRowHeight_different_height_items_small" keywords="[Group, viewport, variableRowHeight]" description="check that items of different heights are shown properly">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="application.addCustomRect(application.group1, 100, 1, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 2, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 4, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 8, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />	
				<RunCode code="application.addCustomRect(application.group1, 100, 16, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />	
				<RunCode code="application.addCustomRect(application.group1, 100, 32, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />				

			</setup>
			<body>
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_variableRowHeight_different_height_items_small.png" target="group1" timeout="2000" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_variableRowHeight_different_height_width" keywords="[Group, viewport, variableRowHeight]" description="check that items of different heights are shown properly">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="application.addCustomRect(application.group1, 10, 10, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 20, 20, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 30, 5, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 40, 1, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />	

			</setup>
			<body>
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_variableRowHeight_different_height_width.png" target="group1" timeout="2000" />
			</body>
		</TestCase>	
				
		<TestCase testID="Group_viewport_VL_variableRowHeight_rowHeight_true" keywords="[Group, viewport, variableRowHeight]" description="set rowHeight and ensure its ignored">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="application.group1.layout.rowHeight = 50" waitTarget="group1" waitEvent="updateComplete"  />
				
				<RunCode code="application.addCustomRect(application.group1, 10, 10, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 20, 20, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 30, 5, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 40, 1, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />	

			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.rowHeight" value="50" />
				<AssertMethodValue method="value=application.group1.layout.variableRowHeight" value="true" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_variableRowHeight_rowHeight.png" target="group1" timeout="2000" />
			</body>
		</TestCase>			
				
		<TestCase testID="Group_viewport_VL_variableRowHeight_rowHeight_false" keywords="[Group, viewport, variableRowHeight]" description="set rowHeight and ensure its enforced">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="application.group1.layout.rowHeight = 50" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.group1.layout.variableRowHeight = false" waitTarget="group1" waitEvent="updateComplete"  />
				
				<RunCode code="application.addCustomRect(application.group1, 10, 10, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 20, 20, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 30, 5, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 40, 1, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />	

			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.rowHeight" value="50" />
				<AssertMethodValue method="value=application.group1.layout.variableRowHeight" value="false" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_variableRowHeight_rowHeight_false.png" target="group1" timeout="2000" />
			</body>
		</TestCase>
				
		<TestCase testID="Group_viewport_VL_variableRowHeight_change_item_heights_smaller" keywords="[Group, viewport, variableRowHeight]" description="make item heights smaller with variableRowHeight true">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
								
				<RunCode code="application.addCustomRect(application.group1, 100, 10, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 10, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 10, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 10, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />	
				
				<RunCode code="application.group1.getElementAt(0).height = 1" waitTarget="group1" waitEvent="updateComplete"  />	
				<RunCode code="application.group1.getElementAt(1).height = 2" waitTarget="group1" waitEvent="updateComplete"  />	
				<RunCode code="application.group1.getElementAt(2).height = 3" waitTarget="group1" waitEvent="updateComplete"  />	
				<RunCode code="application.group1.getElementAt(3).height = 4" waitTarget="group1" waitEvent="updateComplete"  />									
		
			</setup>
			<body>
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_variableRowHeight_change_item_heights_smaller.png" target="group1" timeout="2000" />
			</body>
		</TestCase>
				
		<TestCase testID="Group_viewport_VL_variableRowHeight_change_item_heights_larger" keywords="[Group, viewport, variableRowHeight]" description="make item heights larger with variableRowHeight true">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="150" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
								
				<RunCode code="application.addCustomRect(application.group1, 100, 10, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 10, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 10, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 10, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />	
				
				<RunCode code="application.group1.getElementAt(1).height = 20" waitTarget="group1" waitEvent="updateComplete"  />	
				<RunCode code="application.group1.getElementAt(2).height = 30" waitTarget="group1" waitEvent="updateComplete"  />	
				<RunCode code="application.group1.getElementAt(3).height = 40" waitTarget="group1" waitEvent="updateComplete"  />									
		
			</setup>
			<body>
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_variableRowHeight_change_item_heights_larger.png" target="group1" timeout="2000" />
			</body>
		</TestCase>

		<TestCase testID="Group_viewport_VL_variableRowHeight_change_item_heights_constant" keywords="[Group, viewport, variableRowHeight]" description="make item heights all same height with variableRowHeight true">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="150" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="application.addCustomRect(application.group1, 100, 1, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 2, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 3, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 4, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />	
				
				<RunCode code="application.group1.getElementAt(0).height = 20" waitTarget="group1" waitEvent="updateComplete"  />	
				<RunCode code="application.group1.getElementAt(1).height = 20" waitTarget="group1" waitEvent="updateComplete"  />	
				<RunCode code="application.group1.getElementAt(2).height = 20" waitTarget="group1" waitEvent="updateComplete"  />	
				<RunCode code="application.group1.getElementAt(3).height = 20" waitTarget="group1" waitEvent="updateComplete"  />	
				
			</setup>
			<body>
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_variableRowHeight_change_item_heights_constant.png" target="group1" timeout="2000" />
			</body>
		</TestCase>
		
		<TestCase testID="Group_viewport_VL_variableRowHeight_false_change_item_heights" keywords="[Group, viewport, variableRowHeight]" description="changing item heights should change all heights to be the same as the first item height">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="150" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="application.group1.layout.variableRowHeight = false;" />
				
				<RunCode code="application.addCustomRect(application.group1, 100, 10, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 20, 0x000055)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 30, 0x000077)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 40, 0x000099)" waitTarget="group1" waitEvent="updateComplete"  />	
				
				<RunCode code="application.group1.getElementAt(0).height = 30" waitTarget="group1" waitEvent="updateComplete"  />	
				<RunCode code="application.group1.getElementAt(1).height = 40" waitTarget="group1" waitEvent="updateComplete"  />	
				<RunCode code="application.group1.getElementAt(2).height = 50" waitTarget="group1" waitEvent="updateComplete"  />	
				<RunCode code="application.group1.getElementAt(3).height = 50" waitTarget="group1" waitEvent="updateComplete"  />	
				
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.variableRowHeight" value="false" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_variableRowHeight_false_change_item_heights.png" target="group1" timeout="2000" />
			</body>
		</TestCase>
		
		<TestCase testID="Group_viewport_VL_variableRowHeight_flip" keywords="[Group, viewport, variableRowHeight]" description="flip the variableRowHeight to true after changing the item heights">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="150" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="application.group1.layout.variableRowHeight = false;" />
				
				<RunCode code="application.addCustomRect(application.group1, 100, 10, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 20, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 30, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 40, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />	
				
				<RunCode code="application.group1.getElementAt(0).height = 40" waitTarget="group1" waitEvent="updateComplete"  />	
				<RunCode code="application.group1.getElementAt(1).height = 30" waitTarget="group1" waitEvent="updateComplete"  />	
				<RunCode code="application.group1.getElementAt(2).height = 20" waitTarget="group1" waitEvent="updateComplete"  />	
				<RunCode code="application.group1.getElementAt(3).height = 10" waitTarget="group1" waitEvent="updateComplete"  />	
				<RunCode code="application.group1.layout.variableRowHeight = true;" waitTarget="group1" waitEvent="updateComplete" />
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.variableRowHeight" value="true" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_variableRowHeight_flip.png" target="group1" timeout="2000" />
			</body>
		</TestCase>
	
		<TestCase testID="Group_viewport_VL_variableRowHeight_change_group_height" keywords="[Group, viewport, variableRowHeight]" description="change the Group's height">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="150" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="application.addCustomRect(application.group1, 100, 10, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 20, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 30, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 40, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />	
				
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="200" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.variableRowHeight" value="true" />
				<AssertPropertyValue target="group1" propertyName="height" value="100" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_variableRowHeight_change_group_height.png" target="group1" timeout="2000" />
			</body>
		</TestCase>

		<TestCase testID="Group_viewport_VL_variableRowHeight_swapItems_in_view" keywords="[Group, viewport, variableRowHeight]" description="swap items in view, ensure that variable height respected">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="application.group1.layout.gap = 1" waitTarget="group1" waitEvent="updateComplete"  />
				
				<RunCode code="application.addCustomRect(application.group1, 100, 5, 0x000011)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 10, 0x000022)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 30, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 2, 0x000044)" waitTarget="group1" waitEvent="updateComplete"  />	
				
				<RunCode code="application.group1.swapElementsAt(0, 3)" waitTarget="group1" waitEvent="updateComplete"  />	
				<RunCode code="application.group1.swapElementsAt(1, 3)" waitTarget="group1" waitEvent="updateComplete"  />
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.variableRowHeight" value="true" />
				<AssertPropertyValue target="group1" propertyName="height" value="50" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_variableRowHeight_swapItems_in_view.png" target="group1" timeout="2000" />
			</body>
		</TestCase>
				
		<TestCase testID="Group_viewport_VL_variableRowHeight_false_swapItems_in_view" keywords="[Group, viewport, variableRowHeight]" description="swap items in view, ensure that fixed height respected">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height" value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="application.group1.layout.gap = 1" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.group1.layout.rowHeight = 10" waitTarget="group1" waitEvent="updateComplete"  />
				
				<RunCode code="application.addCustomRect(application.group1, 100, 5, 0x000011)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 10, 0x000022)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 30, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 2, 0x000044)" waitTarget="group1" waitEvent="updateComplete"  />	
				
				<RunCode code="application.group1.layout.variableRowHeight = false" waitTarget="group1" waitEvent="updateComplete"  />
				
				<RunCode code="application.group1.swapElementsAt(0, 3)" waitTarget="group1" waitEvent="updateComplete"  />	
				<RunCode code="application.group1.swapElementsAt(1, 3)" waitTarget="group1" waitEvent="updateComplete"  />
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.variableRowHeight" value="false" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_variableRowHeight_false_swapItems_in_view.png" target="group1" timeout="2000" />
			</body>
		</TestCase>

		<TestCase testID="Group_viewport_VL_variableRowHeight_swapItems_into_view" keywords="[Group, viewport, variableRowHeight]" description="swap items into view, ensure that variable height respected">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="application.group1.layout.gap = 1" waitTarget="group1" waitEvent="updateComplete"  />
				
				<RunCode code="application.addCustomRect(application.group1, 100, 5, 0x000011)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 20, 0x000022)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 30, 0x000033)" waitTarget="group1" waitEvent="updateComplete"  />
				<RunCode code="application.addCustomRect(application.group1, 100, 2, 0x000044)" waitTarget="group1" waitEvent="updateComplete"  />	
				
				<RunCode code="application.group1.swapElementsAt(2, 3)" waitTarget="group1" waitEvent="updateComplete"  />	
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.variableRowHeight" value="true" />
				<AssertPropertyValue target="group1" propertyName="height" value="50" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_variableRowHeight_swapItems_into_view.png" target="group1" timeout="2000" />
			</body>
		</TestCase>
							
		<TestCase testID="Group_viewport_VL_variableRowHeight_false_swapItems_into_view" keywords="[Group, viewport, variableRowHeight]" description="swap items into view, ensure that fixed height respected">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="72" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
								
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20  ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25  ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 100 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 35  ,0x333333)" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
			</setup>
			<body>
				<RunCode code="application.group1.swapElementsAt(3,2)" waitEvent="updateComplete" waitTarget="group1"/>
				<AssertMethodValue method="value=application.group1.layout.variableRowHeight" value="false" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_variableRowHeight_false_swapItems_into_view.png" target="group1" timeout="2000" />
			</body>
		</TestCase>
		
		<TestCase testID="Group_viewport_VL_variableRowHeight_true_child_position" keywords="[Group, viewport, variableRowHeight]" description="assert position and size of children when vrh true">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="72" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
								
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20  ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25  ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 100 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 35  ,0x333333)" waitEvent="updateComplete" waitTarget="group1" />

			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.getElementAt(0).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).height" value="20" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).y" value="0" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(1).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).height" value="25" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).y" value="26" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(2).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).height" value="100" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).y" value="57" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(3).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).height" value="35" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).y" value="163" />
			
				<AssertMethodValue method="value=application.group1.layout.variableRowHeight" value="true" />
			</body>
		</TestCase>
		
		<TestCase testID="Group_viewport_VL_variableRowHeight_false_child_position" keywords="[Group, viewport, variableRowHeight]" description="assert position and size of children when vrh false">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="72" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
								
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20  ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25  ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 100 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 35  ,0x333333)" waitEvent="updateComplete" waitTarget="group1" />

			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.getElementAt(0).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).height" value="20" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).y" value="0" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(1).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).height" value="20" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).y" value="26" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(2).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).height" value="20" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).y" value="52" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(3).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).height" value="20" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).y" value="78" />
			
				<AssertMethodValue method="value=application.group1.layout.variableRowHeight" value="false" />
				
			</body>
		</TestCase>
									
		<TestCase testID="Group_viewport_VL_variableRowHeight_flip_child_position" keywords="[Group, viewport, variableRowHeight]" description="assert position and size of children when vrh false then true">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="72" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
								
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20  ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25  ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 100 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 35  ,0x333333)" waitEvent="updateComplete" waitTarget="group1" />

			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.getElementAt(0).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).height" value="20" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).y" value="0" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(1).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).height" value="20" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).y" value="26" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(2).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).height" value="20" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).y" value="52" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(3).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).height" value="20" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).y" value="78" />
			
				<AssertMethodValue method="value=application.group1.layout.variableRowHeight" value="false" />
				<RunCode code="value=application.group1.layout.variableRowHeight = true" waitEvent="updateComplete" waitTarget="group1" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(0).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).height" value="20" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).y" value="0" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(1).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).height" value="25" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).y" value="26" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(2).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).height" value="100" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).y" value="57" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(3).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).height" value="35" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).y" value="163" />
			
				<AssertMethodValue method="value=application.group1.layout.variableRowHeight" value="true" />
			</body>
		</TestCase>		
				

<!-- rowHeight property -->				

<!--

-Note: must have variableRowHeight set to false

+ Set to positive values
+ Set to zero
+ Change height of a Group and ensure rowHeight isn't changed
+ Check the default rowHeight is used when rowHeight not set
+ Change the gap and ensure rowHeight doesn't change
+ set items to invisible
+ scale/rotate a group
- scale/rotate an item


-->
					
		<TestCase testID="Group_viewport_VL_rowHeight_default" keywords="[Group, viewport, rowHeight]" description="visual check of default row height">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20  ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25  ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 15 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 35  ,0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.rowHeight" value="20" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_rowHeight_default.png" target="group1" timeout="2000" />			
			</body>
		</TestCase>				
		
		<TestCase testID="Group_viewport_VL_rowHeight_zero" keywords="[Group, viewport, rowHeight]" description="zero should show nothing">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20  ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25  ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 100 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 35  ,0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.group1.layout.rowHeight = 0" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.gap = 0" waitEvent="updateComplete" waitTarget="group1" />
				
			</setup>
			<body>
			
				<AssertMethodValue method="value=application.group1.getElementAt(0).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).height" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).y" value="0" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(1).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).height" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).y" value="0" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(2).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).height" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).y" value="0" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(3).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).height" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).y" value="0" />
			
				<AssertPropertyValue target="group1" propertyName="width" value="50" />
				<AssertPropertyValue target="group1" propertyName="height" value="50" />
				
				<AssertMethodValue method="value=application.group1.layout.rowHeight" value="0" />
				<AssertMethodValue method="value=application.group1.layout.variableRowHeight" value="false" />
				
			</body>
		</TestCase>		
				
		<TestCase testID="Group_viewport_VL_rowHeight_zero_gap" keywords="[Group, viewport, rowHeight]" description="zero should show nothing, gap should change y values">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20  ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25  ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 100 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 35  ,0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.group1.layout.rowHeight = 0" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.gap = 1" waitEvent="updateComplete" waitTarget="group1" />
				
			</setup>
			<body>
			
				<AssertMethodValue method="value=application.group1.getElementAt(0).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).height" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).y" value="0" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(1).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).height" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).y" value="1" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(2).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).height" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).y" value="2" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(3).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).height" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).y" value="3" />
			
				<AssertPropertyValue target="group1" propertyName="width" value="50" />
				<AssertPropertyValue target="group1" propertyName="height" value="50" />
				
				<AssertMethodValue method="value=application.group1.layout.rowHeight" value="0" />
				<AssertMethodValue method="value=application.group1.layout.variableRowHeight" value="false" />
				
			</body>
		</TestCase>					
			
		<TestCase testID="Group_viewport_VL_rowHeight_change_group_height" keywords="[Group, viewport, rowHeight]" description="changing group height shouldnt change rowHeight">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20  ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25  ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 100 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 35  ,0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.group1.layout.rowHeight = 5" waitEvent="updateComplete" waitTarget="group1" />
				
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.rowHeight" value="5" />
				
				<SetProperty target="group1" propertyName="height"  value="25" waitTarget="group1"  waitEvent="updateComplete" />	
				<SetProperty target="group1" propertyName="height"  value="100" waitTarget="group1"  waitEvent="updateComplete" />	
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />				
			
				<AssertPropertyValue target="group1" propertyName="width" value="50" />
				<AssertPropertyValue target="group1" propertyName="height" value="50" />
			
				<AssertMethodValue method="value=application.group1.layout.rowHeight" value="5" />
				
			</body>
		</TestCase>					
		
		<TestCase testID="Group_viewport_VL_rowHeight_1" keywords="[Group, viewport, rowHeight]" description="check 1 pixel row height">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 1" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20 ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25 ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 15 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 35 ,0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
			</setup>
			<body>		
				
				<AssertMethodValue method="value=application.group1.getElementAt(0).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).height" value="1" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).y" value="0" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(1).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).height" value="1" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).y" value="7" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(2).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).height" value="1" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).y" value="14" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(3).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).height" value="1" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).y" value="21" />
			
				<AssertMethodValue method="value=application.group1.layout.rowHeight" value="1" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_rowHeight_1.png" target="group1" timeout="2000" />			
			</body>
		</TestCase>					
			
		<TestCase testID="Group_viewport_VL_rowHeight_100" keywords="[Group, viewport, rowHeight]" description="check 100 pixel row height">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="312" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 100" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20 ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25 ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 15 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				
			</setup>
			<body>		
				
				<AssertMethodValue method="value=application.group1.getElementAt(0).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).height" value="100" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).y" value="0" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(1).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).height" value="100" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).y" value="106" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(2).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).height" value="100" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).y" value="212" />
				
			
				<AssertMethodValue method="value=application.group1.layout.rowHeight" value="100" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_rowHeight_100.png" target="group1" timeout="2000" />			
			</body>
		</TestCase>					
							
		<TestCase testID="Group_viewport_VL_rowHeight_change_item_height" keywords="[Group, viewport, rowHeight]" description="changing item height should have no effect">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="312" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 100" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20 ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25 ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 15 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				
				<AssertMethodValue method="value=application.group1.layout.rowHeight" value="100" />
			</setup>
			<body>		
				
				<RunCode code="value=application.group1.getElementAt(0).height = 1" waitEvent="updateComplete" waitTarget="group1" />
 				<RunCode code="value=application.group1.getElementAt(1).height = 1" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.getElementAt(2).height = 1" waitEvent="updateComplete" waitTarget="group1" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(0).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).height" value="100" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).y" value="0" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(1).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).height" value="100" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).y" value="106" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(2).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).height" value="100" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).y" value="212" />
				
				<AssertMethodValue method="value=application.group1.layout.rowHeight" value="100" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_rowHeight_change_item_height.png" target="group1" timeout="2000" />			
			</body>
		</TestCase>					
							
		<TestCase testID="Group_viewport_VL_rowHeight_scale_rotate_group" keywords="[Group, viewport, rowHeight]" description="scaling and rotating a group shouldn't change the positions and dimensions of items">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 1" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20 ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25 ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 15 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 35 ,0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
				<SetProperty target="group1" propertyName="scaleX"  value="2" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="scaleY"  value="2" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="rotation"  value="45" waitTarget="group1"  waitEvent="updateComplete" />
			</setup>
			<body>		
				
				<AssertMethodValue method="value=application.group1.getElementAt(0).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).height" value="1" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).y" value="0" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(1).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).height" value="1" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).y" value="7" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(2).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).height" value="1" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).y" value="14" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(3).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).height" value="1" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).y" value="21" />
			
				<AssertMethodValue method="value=application.group1.layout.rowHeight" value="1" />
				<AssertPropertyValue target="group1" propertyName="scaleX" value="2" />
				<AssertPropertyValue target="group1" propertyName="scaleY" value="2" />
				<AssertPropertyValue target="group1" propertyName="rotation" value="45" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_rowHeight_scale_rotate_group.png" target="" timeout="2000" />			
			</body>
		</TestCase>		
		
		<TestCase testID="Group_viewport_VL_rowHeight_scale_item" keywords="[Group, viewport, rowHeight]" description="scaling and rotating an item">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 1" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20 ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25 ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 15 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 35 ,0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.group1.getElementAt(1).scaleY = 10" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.getElementAt(3).scaleY = 10" waitEvent="updateComplete" waitTarget="group1" />
				
				
			</setup>
			<body>		

				<AssertMethodValue method="value=application.group1.getElementAt(0).getLayoutBoundsWidth(true)" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).getLayoutBoundsHeight(true)" value="1" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).getLayoutBoundsX(true)" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).getLayoutBoundsY(true)" value="0" />
			
				<AssertMethodValue method="value=application.group1.getElementAt(1).getLayoutBoundsWidth(true)" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).getLayoutBoundsHeight(true)" value="1" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).getLayoutBoundsX(true)" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).getLayoutBoundsY(true)" value="7" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(2).getLayoutBoundsWidth(true)" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).getLayoutBoundsHeight(true)" value="1" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).getLayoutBoundsX(true)" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).getLayoutBoundsY(true)" value="14" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(3).getLayoutBoundsWidth(true)" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).getLayoutBoundsHeight(true)" value="1" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).getLayoutBoundsX(true)" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).getLayoutBoundsY(true)" value="21" />
			
				<AssertMethodValue method="value=application.group1.layout.rowHeight" value="1" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_rowHeight_scale_item.png" target="group1" timeout="2000" />			
			</body>
		</TestCase>				
				
		<TestCase testID="Group_viewport_VL_rowHeight_invisible_item" keywords="[Group, viewport, rowHeight]" description="make some items invisible">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.gap = 1" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 10" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20 ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25 ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 15 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 35 ,0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.group1.getElementAt(1).visible = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.getElementAt(3).visible = false" waitEvent="updateComplete" waitTarget="group1" />
					
			</setup>
			<body>		
				
				<AssertMethodValue method="value=application.group1.getElementAt(0).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).height" value="10" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(0).y" value="0" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(1).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).height" value="10" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(1).y" value="11" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(2).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).height" value="10" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(2).y" value="22" />
				
				<AssertMethodValue method="value=application.group1.getElementAt(3).width" value="120" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).height" value="10" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).x" value="0" />
				<AssertMethodValue method="value=application.group1.getElementAt(3).y" value="33" />
			
				<AssertMethodValue method="value=application.group1.layout.rowHeight" value="10" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_rowHeight_invisible_item.png" target="group1" timeout="2000" />			
			</body>
		</TestCase>					
				
<!-- fractionOfElementInView() method and firstInView/lastInView properties -->
<!--

fractionOfElementInView() method

+ check an item out of view returns 0.0
+ check a null/undefined item returns 0.0
+ check an item in view returns 1.0
+ check an item partially in view returns a fraction
+ check an invisible item in view returns 1.0
+ check invalid index returns 0.0
+ check item with includeInLayout set to false returns 0.0
+ Should return nonzero when passed valid firstIndexInView
+ Should return nonzero when passed valid lastIndexInView
+ Should return zero when passed invalid firstIndexInView/lastIndexInView
+ move viewport and check that fractionOfElementInView() updates properly
+ push/pull gap ensure fractionOfElementInView() updates correctly
+ push/pull rowHeight ensure fractionOfElementInView() updates correctly
+ remove items at run time
+ rotation shouldn't affect fractionOfElementInView()

firstIndexInView/lastIndexInView property specific

+ Test data binding (see rowcount)
+ test first/last item completely in view
+ test first/last item partially in view
+ test first/last item in view having visible set to false
+ test setting rowHeight to zero check first/lastIndexInView still correct
+ check returns -1 when no items in view



-->

		<TestCase testID="Group_viewport_VL_inView_invalid_index" keywords="[Group, viewport, fractionOfElementInView]" description="check invalid index returns 0.0">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />	
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />	
			</setup>
			<body>		
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).firstIndexInView" value="-1" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).lastIndexInView" value="-1" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(VerticalLayout(application.group1.layout).firstIndexInView)" value="0.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(VerticalLayout(application.group1.layout).lastIndexInView)" value="0.0" />
				
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(0)" value="0.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(-1)" value="0.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(30)" value="0.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(3.1415)" value="0.0" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_inView_firstIndex_fixed" keywords="[Group, viewport, fractionOfElementInView]" description="check firstIndexInView and lastIndexInView returns greater than 0">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 14" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 14  ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 14  ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 100 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20  ,0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
			</setup>
			<body>		
			
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(application.group1.layout.firstIndexInView)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(application.group1.layout.lastIndexInView)" value="0.714286" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="0.714286" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="0.0" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_inView_firstIndex_variable" keywords="[Group, viewport, fractionOfElementInView]" description="check firstIndexInView and lastIndexInView returns greater than 0">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 14  ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 14  ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 100 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20  ,0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(application.group1.layout.firstIndexInView)" value="1" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(application.group1.layout.lastIndexInView)" value="0.1" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="0.1" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="0.0" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_inView_invisible_onscreen" keywords="[Group, viewport, fractionOfElementInView]" description="check an invisible item in view returns 1.0">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />	
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 20  ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.getElementAt(0).visible = false" waitEvent="updateComplete" waitTarget="group1" />
			</setup>
			<body>		
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).firstIndexInView" value="0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).lastIndexInView" value="0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(0)" value="1.0" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_inView_invisible_offscreen" keywords="[Group, viewport, fractionOfElementInView]" description="check an invisible item in view returns 0.0 when offscreen">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />	
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />

				<RunCode code="value=application.addCustomRect(application.group1, 100, 50, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 100, 50, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.getElementAt(1).visible = false" waitEvent="updateComplete" waitTarget="group1" />
			</setup>
			<body>		
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).firstIndexInView" value="0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).lastIndexInView" value="0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(1)" value="0.0" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_inView_includeInLayout" keywords="[Group, viewport, fractionOfElementInView]" description="check item with includeInLayout set to false returns 0.0">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />	
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 20  ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.getElementAt(0).includeInLayout = false" />
				<Pause timeout="200" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
			</setup>
			<body>		
				<AssertMethodValue method="value=(application.group1.layout).firstIndexInView" value="-1" />
				<AssertMethodValue method="value=(application.group1.layout).lastIndexInView" value="-1" />
				<AssertMethodValue method="value=(application.group1.layout).fractionOfElementInView(0)" value="0.0" />
			</body>
		</TestCase>		
			
		<TestCase testID="Group_viewport_VL_inView_rows_fixed" keywords="[Group, viewport, fractionOfElementInView]" description="check an item out of view returns 0.0 with fixed row height">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 14" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 14  ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 14  ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 100 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20  ,0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
			</setup>
			<body>		
			
				<AssertMethodValue method="value=application.group1.layout.firstIndexInView" value="0" />
				<AssertMethodValue method="value=application.group1.layout.lastIndexInView" value="2" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="0.714286" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="0.0" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_inView_rows_variable" keywords="[Group, viewport, fractionOfElementInView]" description="check an item out of view returns 0.0 with variable row height">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 14  ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 14  ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 100 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20  ,0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.firstIndexInView" value="0" />
				<AssertMethodValue method="value=application.group1.layout.lastIndexInView" value="2" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="0.1" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="0.0" />
			</body>
		</TestCase>	

		<TestCase testID="Group_viewport_VL_inView_rowheight_0" keywords="[Group, viewport, fractionOfElementInView]" description="check items show as inview when rowheight is zero (fixed)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 0" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 14  ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 14  ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 100 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20  ,0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.firstIndexInView" value="0" />
				<AssertMethodValue method="value=application.group1.layout.lastIndexInView" value="3" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="1.0" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_inView_change_viewport_variable" keywords="[Group, viewport, fractionOfElementInView]" description="move viewport in variable row height and check that fractionOfElementInView() updates properly">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 14, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 14, 0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 50, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 4,  0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
				<SetProperty target="group1" propertyName="horizontalScrollPosition" value="50" />
				<SetProperty target="group1" propertyName="verticalScrollPosition" value="50" />
				<AssertEvent target="group1.layout" eventName="indexInViewChanged" eventClass="flash.events::Event" />

			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.firstIndexInView" value="2" />
				<AssertMethodValue method="value=application.group1.layout.lastIndexInView" value="3" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="0.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="0.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="0.8" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="1.0" />
			</body>
		</TestCase>	

		<TestCase testID="Group_viewport_VL_inView_change_viewport_fixed" keywords="[Group, viewport, fractionOfElementInView]" description="move viewport in fixed row height and check that fractionOfElementInView() updates properly">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 50" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 1  ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 1  ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 1  ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 1  ,0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
				<SetProperty target="group1" propertyName="horizontalScrollPosition"  value="50"  />
				<SetProperty target="group1" propertyName="verticalScrollPosition"  value="50"  />
				<AssertEvent target="group1.layout" eventName="indexInViewChanged" eventClass="flash.events::Event" />
								
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.firstIndexInView" value="1" />
				<AssertMethodValue method="value=application.group1.layout.lastIndexInView" value="1" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="0.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="0.88" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="0.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="0.0" />
			</body>
		</TestCase>	

		<TestCase testID="Group_viewport_VL_inView_change_gap_push" keywords="[Group, viewport, fractionOfElementInView]" description="increase gap and check that fractionOfElementInView() updates properly">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 14  ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 14  ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 50 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 4  ,0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="0.2" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="0.0" />
				
				<RunCode code="value=application.group1.layout.gap = 25" waitEvent="updateComplete" waitTarget="group1" />
				<AssertEvent target="group1.layout" eventName="indexInViewChanged" eventClass="flash.events::Event" />
				
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.firstIndexInView" value="0" />
				<AssertMethodValue method="value=application.group1.layout.lastIndexInView" value="1" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="0.785714" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="0.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="0.0" />
			</body>
		</TestCase>					
						
		<TestCase testID="Group_viewport_VL_inView_change_gap_pull" keywords="[Group, viewport, fractionOfElementInView]" description="decrease gap and check that fractionOfElementInView() updates properly">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.gap = 25" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 14  ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 14  ,0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 50 ,0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 4  ,0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="0.785714" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="0.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="0.0" />
				
				<RunCode code="value=application.group1.layout.gap = 0" waitEvent="updateComplete" waitTarget="group1" />
				<AssertEvent target="group1.layout" eventName="indexInViewChanged" eventClass="flash.events::Event" />
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.firstIndexInView" value="0" />
				<AssertMethodValue method="value=application.group1.layout.lastIndexInView" value="2" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="0.44" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="0.0" />
			</body>
		</TestCase>	

		<TestCase testID="Group_viewport_VL_inView_change_rowHeight_push" keywords="[Group, viewport, fractionOfElementInView]" description="increase rowHeight and check that fractionOfElementInView() updates properly">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 14" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 1, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 1, 0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 1, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 1, 0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="0.714286" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="0.0" />
				
				<RunCode code="value=application.group1.layout.rowHeight = 20" waitEvent="updateComplete" waitTarget="group1" />
				<AssertEvent target="group1.layout" eventName="indexInViewChanged" eventClass="flash.events::Event" />

			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.firstIndexInView" value="0" />
				<AssertMethodValue method="value=application.group1.layout.lastIndexInView" value="1" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="0.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="0.0" />
			</body>
		</TestCase>	

		<TestCase testID="Group_viewport_VL_inView_change_rowHeight_pull" keywords="[Group, viewport, fractionOfElementInView]" description="decrease rowHeight and check that fractionOfElementInView() updates properly">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 14" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 1, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 1, 0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 1, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 1, 0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
				<AssertMethodValue method="value=application.group1.layout.firstIndexInView" value="0" />
				<AssertMethodValue method="value=application.group1.layout.lastIndexInView" value="2" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="0.714286" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="0.0" />
				
				<RunCode code="value=application.group1.layout.rowHeight = 1" waitEvent="updateComplete" waitTarget="group1" />
				<AssertEvent target="group1.layout" eventName="indexInViewChanged" eventClass="flash.events::Event" />

			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.firstIndexInView" value="0" />
				<AssertMethodValue method="value=application.group1.layout.lastIndexInView" value="3" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="1.0" />
			</body>
		</TestCase>	

		<TestCase testID="Group_viewport_VL_inView_scrollPastBottom_fixed" keywords="[Group, viewport, fractionOfElementInView]" description="change scroll position beyond bottom of the content (fixed rows)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 10" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 1, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 1, 0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 1, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 1, 0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.group1.layout.verticalScrollPosition = 37" />
				<AssertEvent target="group1.layout" eventName="indexInViewChanged" eventClass="flash.events::Event" />
				
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.firstIndexInView" value="2" />
				<AssertMethodValue method="value=application.group1.layout.lastIndexInView" value="3" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="0.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="0.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="0.5" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="1.0" />
			</body>
		</TestCase>	

		<TestCase testID="Group_viewport_VL_inView_scrollPastBottom_variable" keywords="[Group, viewport, fractionOfElementInView]" description="change scroll position beyond bottom of the content (variable rows))">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.group1.layout.verticalScrollPosition = 37" />
				<AssertEvent target="group1.layout" eventName="indexInViewChanged" eventClass="flash.events::Event" />
				
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.firstIndexInView" value="2" />
				<AssertMethodValue method="value=application.group1.layout.lastIndexInView" value="3" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="0.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="0.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="0.5" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="1.0" />
			</body>
		</TestCase>	
			
		<TestCase testID="Group_viewport_VL_inView_scrollPastWidth_fixed" keywords="[Group, viewport, fractionOfElementInView]" description="moving scroll position horizontally shouldn't change inView values for this vertical layout">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 10" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 1, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 1, 0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 1, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 1, 0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.group1.layout.horizontalScrollPosition = 120" />
				
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.firstIndexInView" value="0" />
				<AssertMethodValue method="value=application.group1.layout.lastIndexInView" value="3" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="0.2" />
			</body>
		</TestCase>	

		<TestCase testID="Group_viewport_VL_inView_scrollPastWidth_variable" keywords="[Group, viewport, fractionOfElementInView]" description="change scroll position beyond width of the content (variable rows))">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.group1.layout.horizontalScrollPosition = 120" />
				
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.firstIndexInView" value="0" />
				<AssertMethodValue method="value=application.group1.layout.lastIndexInView" value="3" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="0.2" />
			</body>
		</TestCase>	
						
		<TestCase testID="Group_viewport_VL_inView_rotation_fixed" keywords="[Group, viewport, fractionOfElementInView]" description="rotation shouldn't affect inView results (fixed rows)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="rotation"  value="45" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 10" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 1, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 1, 0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 1, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 1, 0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.group1.layout.verticalScrollPosition = 37" />
				<AssertEvent target="group1.layout" eventName="indexInViewChanged" eventClass="flash.events::Event" />
				
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.firstIndexInView" value="2" />
				<AssertMethodValue method="value=application.group1.layout.lastIndexInView" value="3" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="0.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="0.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="0.5" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="1.0" />
			</body>
		</TestCase>	

		<TestCase testID="Group_viewport_VL_inView_rotation_variable" keywords="[Group, viewport, fractionOfElementInView]" description="rotation shouldn't affect inView results (variable rows))">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="rotation"  value="45" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x333333)" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.group1.layout.verticalScrollPosition = 37" />
				<AssertEvent target="group1.layout" eventName="indexInViewChanged" eventClass="flash.events::Event" />
				
			</setup>
			<body>
				<AssertMethodValue method="value=application.group1.layout.firstIndexInView" value="2" />
				<AssertMethodValue method="value=application.group1.layout.lastIndexInView" value="3" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="0.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="0.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="0.5" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="1.0" />
			</body>
		</TestCase>							

		<TestCase testID="Group_viewport_VL_inView_removeItem_fixed" keywords="[Group, viewport, fractionOfElementInView]" description="remove item in view (fixed rows)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 10" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x333333)" waitEvent="updateComplete" waitTarget="group1" />

			</setup>
			<body>
			
				<RunCode code="value=application.group1.removeElementAt(0)" waitEvent="updateComplete" waitTarget="group1" />

				<AssertMethodValue method="value=application.group1.layout.firstIndexInView" value="0" />
				<AssertMethodValue method="value=application.group1.layout.lastIndexInView" value="2" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="0.0" />
			</body>
		</TestCase>	

		<TestCase testID="Group_viewport_VL_inView_removeItem_variable" keywords="[Group, viewport, fractionOfElementInView]" description="remove item in view (variable rows)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x333333)" waitEvent="updateComplete" waitTarget="group1" />

			</setup>
			<body>
			
				<RunCode code="value=application.group1.removeElementAt(0)" waitEvent="updateComplete" waitTarget="group1" />

				<AssertMethodValue method="value=application.group1.layout.firstIndexInView" value="0" />
				<AssertMethodValue method="value=application.group1.layout.lastIndexInView" value="2" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="0.0" />
			</body>
		</TestCase>	

		<TestCase testID="Group_viewport_VL_inView_removeItem_outofview_fixed" keywords="[Group, viewport, fractionOfElementInView]" description="remove item out of view (fixed rows)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 30" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x333333)" waitEvent="updateComplete" waitTarget="group1" />

			</setup>
			<body>
			
				<RunCode code="value=application.group1.removeElementAt(3)" waitEvent="updateComplete" waitTarget="group1" />

				<AssertMethodValue method="value=application.group1.layout.firstIndexInView" value="0" />
				<AssertMethodValue method="value=application.group1.layout.lastIndexInView" value="1" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="0.466667" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="0.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="0.0" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_inView_removeItem_outofview_variable" keywords="[Group, viewport, fractionOfElementInView]" description="remove item out of view (variable rows)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 20, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20, 0x999999)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20, 0x333333)" waitEvent="updateComplete" waitTarget="group1" />

			</setup>
			<body>
			
				<RunCode code="value=application.group1.removeElementAt(3)" waitEvent="updateComplete" waitTarget="group1" />

				<AssertMethodValue method="value=application.group1.layout.firstIndexInView" value="0" />
				<AssertMethodValue method="value=application.group1.layout.lastIndexInView" value="1" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(2)" value="0.0" />
				<AssertMethodValue method="value=application.group1.layout.fractionOfElementInView(3)" value="0.0" />
			</body>
		</TestCase>
		


<!-- requestedRowCount property

+ Set to 0, check nothing in view (fixed/variable)
+ set to 1, check 1 item in view, viewport size of first item (fixed/variable)
+ set to 3, check 3 item in view, viewport size of first three items (fixed/variable)
+ Check -1 (default) shows all rows when height not specified
+ Set requestedRowCount, ensure rowCount matches
+ Set height of group, set requestedRowCount and ensure it is ignored
+ Set requestedRowCount and rowHeight check group height is correct
+ Check requestedRowCount works with variableRowHeight true and false
+ scroll down and check viewport size doesnt change and is first row height

-->

		<TestCase testID="Group_viewport_VL_requestedRowCount_default" keywords="[Group, viewport, requestedRowCount]" description="check default is -1">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.requestedRowCount" value="-1" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_requestedRowCount_0_fixed" keywords="[Group, viewport, requestedRowCount]" description="check nothing is in view (fixed)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 20" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.requestedRowCount = 0" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 20  ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.requestedRowCount" value="0" />
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).firstIndexInView" value="-1" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).lastIndexInView" value="-1" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(0)" value="0.0" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_requestedRowCount_0_variable" keywords="[Group, viewport, requestedRowCount]" description="check nothing is in view (variable)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.requestedRowCount = 0" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 20  ,0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.requestedRowCount" value="0" />
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).firstIndexInView" value="-1" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).lastIndexInView" value="-1" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(0)" value="0.0" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_requestedRowCount_1_fixed" keywords="[Group, viewport, requestedRowCount]" description="check one item in view (fixed)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.requestedRowCount = 1" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 50, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.requestedRowCount" value="1" />
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="1" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).firstIndexInView" value="0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).lastIndexInView" value="0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(0)" value="1.0" />
				<AssertPropertyValue target="group1" propertyName="height" value="50" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_requestedRowCount_1_variable" keywords="[Group, viewport, requestedRowCount]" description="check one item in view (variable)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.requestedRowCount = 1" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 50, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.requestedRowCount" value="1" />			
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="1" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).firstIndexInView" value="0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).lastIndexInView" value="0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(0)" value="1.0" />
				<AssertPropertyValue target="group1" propertyName="height" value="50" />
			</body>
		</TestCase>			
	
		<TestCase testID="Group_viewport_VL_requestedRowCount_3_fixed" keywords="[Group, viewport, requestedRowCount]" description="check three items in view (fixed)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.requestedRowCount = 3" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 50, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 100, 0xAAAAAA)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 150, 0x888888)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 200, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.requestedRowCount" value="3" />			
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="3" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).firstIndexInView" value="0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).lastIndexInView" value="2" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(2)" value="1.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(3)" value="0.0" />
				<AssertPropertyValue target="group1" propertyName="height" value="162" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_requestedRowCount_3_fixed.png" target="group1" timeout="2000" />
			</body>
		</TestCase>	
	
		<TestCase testID="Group_viewport_VL_requestedRowCount_3_variable" keywords="[Group, viewport, requestedRowCount]" description="check three items in view (variable)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.requestedRowCount = 3" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 50, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 100, 0xAAAAAA)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 150, 0x888888)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 200, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.requestedRowCount" value="3" />			
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="3" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).firstIndexInView" value="0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).lastIndexInView" value="2" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(2)" value="1.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(3)" value="0.0" />
				<AssertPropertyValue target="group1" propertyName="height" value="312" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_requestedRowCount_3_variable.png" target="group1" timeout="2000" />
			</body>
		</TestCase>	
			
		<TestCase testID="Group_viewport_VL_requestedRowCount_height_specified_fixed" keywords="[Group, viewport, requestedRowCount]" description="check that requestedRowCount ignored (fixed)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width" value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height" value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 50" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.requestedRowCount = 4" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 50, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 100, 0xAAAAAA)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 150, 0x888888)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 200, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.requestedRowCount" value="4" />			
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="1" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).firstIndexInView" value="0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).lastIndexInView" value="0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(1)" value="0.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(2)" value="0.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(3)" value="0.0" />
				<AssertPropertyValue target="group1" propertyName="height" value="50" />
			</body>
		</TestCase>	
				
		<TestCase testID="Group_viewport_VL_requestedRowCount_height_specified_variable" keywords="[Group, viewport, requestedRowCount]" description="check that requestedRowCount ignored (variable)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width" value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height" value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.requestedRowCount = 4" waitEvent="updateComplete" waitTarget="group1" />
			
				<RunCode code="value=application.addCustomRect(application.group1, 120, 50, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 100, 0xAAAAAA)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 150, 0x888888)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 200, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.requestedRowCount" value="4" />			
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="1" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).firstIndexInView" value="0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).lastIndexInView" value="0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(1)" value="0.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(2)" value="0.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(3)" value="0.0" />
				<AssertPropertyValue target="group1" propertyName="height" value="50" />
			</body>
		</TestCase>			
			
		<TestCase testID="Group_viewport_VL_requestedRowCount_minus1_fixed" keywords="[Group, viewport, requestedRowCount]" description="check all items in view (fixed)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 50, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 100, 0xAAAAAA)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 150, 0x888888)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 200, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.requestedRowCount" value="-1" />
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="4" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).firstIndexInView" value="0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).lastIndexInView" value="3" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(2)" value="1.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(3)" value="1.0" />
				<AssertPropertyValue target="group1" propertyName="height" value="218" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_requestedRowCount_minus1_variable" keywords="[Group, viewport, requestedRowCount]" description="check all items in view (variable)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 50, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 100, 0xAAAAAA)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 150, 0x888888)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 200, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.requestedRowCount" value="-1" />
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="4" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).firstIndexInView" value="0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).lastIndexInView" value="3" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(0)" value="1.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(2)" value="1.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(3)" value="1.0" />
				<AssertPropertyValue target="group1" propertyName="height" value="518" />
			</body>
		</TestCase>	
							
		<TestCase testID="Group_viewport_VL_requestedRowCount_changeViewport_fixed" keywords="[Group, viewport, requestedRowCount]" description="scroll down and visually check viewport contents (fixed)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.requestedRowCount = 3" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 50, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 100, 0xAAAAAA)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 150, 0x888888)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 200, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				
				<SetProperty target="group1" propertyName="verticalScrollPosition"  value="56" />
				<AssertEvent target="group1.layout" eventName="indexInViewChanged" eventClass="flash.events::Event" />
				
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.requestedRowCount" value="3" />			
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="3" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).firstIndexInView" value="1" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).lastIndexInView" value="3" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(0)" value="0.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(2)" value="1.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(3)" value="1.0" />
				<AssertPropertyValue target="group1" propertyName="height" value="162" />
				<CompareBitmap url="../viewport/baselines/Group_viewport_VL_requestedRowCount_changeViewport_fixed.png" target="" timeout="2000" />
			</body>
		</TestCase>			
		
		<TestCase testID="Group_viewport_VL_requestedRowCount_changeViewport_variable" keywords="[Group, viewport, requestedRowCount]" description="scroll down and visually check viewport contents (variable)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.requestedRowCount = 3" waitEvent="updateComplete" waitTarget="group1" />

				<RunCode code="value=application.addCustomRect(application.group1, 120, 50, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 100, 0xAAAAAA)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 150, 0x888888)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 200, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				
				<SetProperty target="group1" propertyName="verticalScrollPosition"  value="56" />
				<AssertEvent target="group1.layout" eventName="indexInViewChanged" eventClass="flash.events::Event" />
				
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.layout.requestedRowCount" value="3" />			
				<AssertMethodValue method="value=application.group1.layout.rowCount" value="3" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).firstIndexInView" value="1" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).lastIndexInView" value="3" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(0)" value="0.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(1)" value="1.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(2)" value="1.0" />
				<AssertMethodValue method="value=VerticalLayout(application.group1.layout).fractionOfElementInView(3)" value="0.25" />
				<AssertPropertyValue target="group1" propertyName="height" value="312" />
				<CompareBitmap url="../viewport/baselines/group_viewport_VL_requestedRowCount_changeViewport_variable.png" target="" timeout="2000" />
			</body>
		</TestCase>	
		
				
<!--  verticalScrollPositionDelta() method

+ Check that passing in the NavigationUnit constants: UP, DOWN, PAGE_UP, PAGE_DOWN, HOME, END, returns correctly (fixed/variable)
+ Check these return zero when viewport smaller than content area
+ scroll to HOME/END and check that first/last item positioned against the top/bottom of the viewport (fixed/variable)
+ try items larger than viewport and see if scrolling works

-->

		<TestCase testID="Group_viewport_VL_verticalScrollPositionDelta_largeContent_variable" keywords="[Group, viewport]" description="check key values with items larger than viewport (variable)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling"  value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.gap = 5" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20, 0xAAAAAA)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 50, 0x888888)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 200, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
								
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.contentHeight" value="320" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.HOME)" value="0" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.END)" value="220" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_DOWN)" value="105" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.DOWN)" value="100" />	
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_UP)" value="0" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.UP)" value="0" />
							
				<SetProperty target="group1" propertyName="verticalScrollPosition" value="50" />
				
				
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.HOME)" value="-50" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.END)" value="170" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_DOWN)" value="55" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.DOWN)" value="100" />	
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_UP)" value="-50" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.UP)" value="-25" />			
				
				<SetProperty target="group1" propertyName="verticalScrollPosition" valueExpression="value=50 + application.group1.layout.getVerticalScrollPositionDelta(NavigationUnit.END)" />
				<AssertEvent target="group1.layout" eventName="indexInViewChanged" eventClass="flash.events::Event" />
				
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.HOME)" value="-220" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.END)" value="0" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_DOWN)" value="0" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.DOWN)" value="0" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_UP)" value="-15" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.UP)" value="-100" />
			</body>
		</TestCase>	

		<TestCase testID="Group_viewport_VL_verticalScrollPositionDelta_largeContent_fixed" keywords="[Group, viewport]" description="check key values with items larger than viewport (fixed)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 50" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.gap = 5" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20, 0xAAAAAA)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 50, 0x888888)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 200, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
								
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.contentHeight" value="270" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.HOME)" value="0" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.END)" value="170" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_DOWN)" value="55" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.DOWN)" value="5" />	
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_UP)" value="0" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.UP)" value="0" />
							
				<SetProperty target="group1" propertyName="verticalScrollPosition" value="50" />	
				
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.HOME)" value="-50" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.END)" value="120" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_DOWN)" value="60" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.DOWN)" value="10" />	
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_UP)" value="-50" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.UP)" value="-50" />			
				
				<SetProperty target="group1" propertyName="verticalScrollPosition" valueExpression="value=50 + application.group1.layout.getVerticalScrollPositionDelta(NavigationUnit.END)" />
				<AssertEvent target="group1.layout" eventName="indexInViewChanged" eventClass="flash.events::Event" />
				
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.HOME)" value="-170" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.END)" value="0" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_DOWN)" value="0" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.DOWN)" value="0" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_UP)" value="-55" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.UP)" value="-5" />
			</body>
		</TestCase>	
				
		<TestCase testID="Group_viewport_VL_verticalScrollPositionDelta_smallContent_variable" keywords="[Group, viewport]" description="check key values with content smaller than viewport (variable)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.gap = 0" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25, 0xAAAAAA)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25, 0x888888)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
								
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.contentHeight" value="100" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.HOME)" value="0" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.END)" value="0" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_DOWN)" value="0" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.DOWN)" value="0" />	
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_UP)" value="0" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.UP)" value="0" />
							
				<SetProperty target="group1" propertyName="verticalScrollPosition" value="50" />	
				<AssertEvent target="group1.layout" eventName="indexInViewChanged" eventClass="flash.events::Event" />	
				
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.HOME)" value="-50" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.END)" value="-50" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_DOWN)" value="-50" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.DOWN)" value="-50" />	
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_UP)" value="-50" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.UP)" value="-50" />			
				
			</body>
		</TestCase>	
					
		<TestCase testID="Group_viewport_VL_verticalScrollPositionDelta_smallContent_fixed" keywords="[Group, viewport]" description="check key values with content smaller than viewport (fixed)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.gap = 0" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 20, 0xAAAAAA)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 50, 0x888888)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 200, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 10, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
								
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.contentHeight" value="100" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.HOME)" value="0" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.END)" value="0" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_DOWN)" value="0" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.DOWN)" value="0" />	
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_UP)" value="0" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.UP)" value="0" />
							
				<SetProperty target="group1" propertyName="verticalScrollPosition" value="50" />		
				<AssertEvent target="group1.layout" eventName="indexInViewChanged" eventClass="flash.events::Event" />
				
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.HOME)" value="-50" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.END)" value="-50" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_DOWN)" value="-50" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.DOWN)" value="-50" />	
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_UP)" value="-50" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.UP)" value="-50" />			
				
			</body>
		</TestCase>	
										
		<TestCase testID="Group_viewport_VL_verticalScrollPositionDelta_largeItem_variable" keywords="[Group, viewport]" description="check key values with a huge item (variable)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.gap = 0" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25, 0xAAAAAA)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 2000, 0x888888)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
								
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.contentHeight" value="2075" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.HOME)" value="0" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.END)" value="1975" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_DOWN)" value="50" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.DOWN)" value="100" />	
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_UP)" value="0" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.UP)" value="0" />
				
				<SetProperty target="group1" propertyName="verticalScrollPosition" value="50" />	
				<AssertEvent target="group1.layout" eventName="indexInViewChanged" eventClass="flash.events::Event" />	
				
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.HOME)" value="-50" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.END)" value="1925" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_DOWN)" value="100" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.DOWN)" value="100" />	
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_UP)" value="-50" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.UP)" value="-25" />			
				
			</body>
		</TestCase>	

		<TestCase testID="Group_viewport_VL_verticalScrollPositionDelta_largeItem_fixed" keywords="[Group, viewport]" description="check key values with a huge item (variable)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 300" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.gap = 0" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25, 0xAAAAAA)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 120, 25, 0x888888)" waitEvent="updateComplete" waitTarget="group1" />
								
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.contentHeight" value="900" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.HOME)" value="0" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.END)" value="800" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_DOWN)" value="100" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.DOWN)" value="100" />	
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_UP)" value="0" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.UP)" value="0" />
				
				<SetProperty target="group1" propertyName="verticalScrollPosition" value="250" />	
				<AssertEvent target="group1.layout" eventName="indexInViewChanged" eventClass="flash.events::Event" />	
				
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.HOME)" value="-250" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.END)" value="550" />		
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_DOWN)" value="50" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.DOWN)" value="100" />	
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_UP)" value="-50" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.UP)" value="-100" />			
				
			</body>
		</TestCase>	

		
		<TestCase testID="Group_viewport_VL_verticalScrollPositionDelta_LEFT_RIGHT" keywords="[Group, viewport]" description="ensure LEFT/RIGHT, PAGE_LEFT/PAGE_RIGHT return 0">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="200" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.gap = 0" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 100, 100, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 100, 100, 0xAAAAAA)" waitEvent="updateComplete" waitTarget="group1" />

			</setup>
			<body>			
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_LEFT)" value="0" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.PAGE_RIGHT)" value="0" />	
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.LEFT)" value="0" />
				<AssertMethodValue method="value=application.group1.getVerticalScrollPositionDelta(NavigationUnit.RIGHT)" value="0" />
			</body>
		</TestCase>									
					
			
			
<!--  horizontalScrollPositionDelta() method

+ Check that passing in the NavigationUnit constants: UP, DOWN, PAGE_UP, PAGE_DOWN, HOME, END, returns correctly (fixed/variable)
+ Check these return zero when content area smaller than viewport
+ scroll to HOME/END and check that first/last item positioned against the top/bottom of the viewport (fixed/variable)
+ try items larger than viewport and see if scrolling works

-->		

		<TestCase testID="Group_viewport_VL_horizontalScrollPositionDelta_largeContent_fixed" keywords="[Group, viewport]" description="scroll right with items larger than viewport (fixed)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width" value="200" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height" value="300" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.rowHeight = 30" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.gap = 5" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 800, 80, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 600, 60, 0xAAAAAA)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 400, 40, 0x888888)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 200, 20, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 100, 10, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.contentHeight" value="170" />		
				<AssertMethodValue method="value=application.group1.contentWidth" value="800" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.HOME)" value="0" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.END)" value="600" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_RIGHT)" value="200" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_LEFT)" value="0" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.RIGHT)" value="1" />	
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.LEFT)" value="0" />
							
				<SetProperty target="group1" propertyName="horizontalScrollPosition" value="200" />	
				
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.HOME)" value="-200" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.END)" value="400" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_RIGHT)" value="200" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.RIGHT)" value="1" />	
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_LEFT)" value="-200" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.LEFT)" value="-1" />			
				
				<SetProperty target="group1" propertyName="horizontalScrollPosition" valueExpression="value=600" />
				
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.HOME)" value="-600" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.END)" value="0" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_RIGHT)" value="0" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.RIGHT)" value="0" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_LEFT)" value="-200" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.LEFT)" value="-1" />
			</body>
		</TestCase>	

		<TestCase testID="Group_viewport_VL_horizontalScrollPositionDelta_largeContent_variable" keywords="[Group, viewport]" description="scroll right with items larger than viewport (variable)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width" value="200" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height" value="300" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.gap = 5" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 800, 80, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 600, 60, 0xAAAAAA)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 400, 40, 0x888888)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 200, 20, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 100, 10, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.contentHeight" value="230" />		
				<AssertMethodValue method="value=application.group1.contentWidth" value="800" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.HOME)" value="0" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.END)" value="600" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_RIGHT)" value="200" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_LEFT)" value="0" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.RIGHT)" value="1" />	
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.LEFT)" value="0" />
							
				<SetProperty target="group1" propertyName="horizontalScrollPosition" value="200" />		
				
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.HOME)" value="-200" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.END)" value="400" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_RIGHT)" value="200" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.RIGHT)" value="1" />	
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_LEFT)" value="-200" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.LEFT)" value="-1" />			
				
				<SetProperty target="group1" propertyName="horizontalScrollPosition" valueExpression="value=600" />
				
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.HOME)" value="-600" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.END)" value="0" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_RIGHT)" value="0" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.RIGHT)" value="0" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_LEFT)" value="-200" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.LEFT)" value="-1" />
			</body>
		</TestCase>	

		<TestCase testID="Group_viewport_VL_horizontalScrollPositionDelta_smallContent_fixed" keywords="[Group, viewport]" description="scroll right with content smaller than viewport (fixed) (slightly garbage case)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="100" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.variableRowHeight = false" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.gap = 0" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 45, 20, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 40, 20, 0xAAAAAA)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 35, 50, 0x888888)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 30, 20, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 25, 10, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
								
			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.contentHeight" value="100" />	
				<AssertMethodValue method="value=application.group1.contentWidth" value="45" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.HOME)" value="0" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.END)" value="0" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_RIGHT)" value="0" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.RIGHT)" value="0" />	
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_LEFT)" value="0" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.LEFT)" value="0" />
							
				<SetProperty target="group1" propertyName="horizontalScrollPosition" value="25" />		
				
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.HOME)" value="-25" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.END)" value="-30" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_RIGHT)" value="-30" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.RIGHT)" value="-30" />	
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_LEFT)" value="-30" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.LEFT)" value="-30" />		
				
			</body>
		</TestCase>			
		
		<TestCase testID="Group_viewport_VL_horizontalScrollPositionDelta_smallContent_variable" keywords="[Group, viewport]" description="scroll right with content smaller than viewport (variable) (slightly garbage case)">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="200" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.gap = 0" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 45, 20, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 40, 20, 0xAAAAAA)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 35, 50, 0x888888)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 30, 20, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 25, 10, 0x666666)" waitEvent="updateComplete" waitTarget="group1" />

			</setup>
			<body>		
				<AssertMethodValue method="value=application.group1.contentHeight" value="120" />	
				<AssertMethodValue method="value=application.group1.contentWidth" value="45" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.HOME)" value="0" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.END)" value="0" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_RIGHT)" value="0" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.RIGHT)" value="0" />	
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_LEFT)" value="0" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.LEFT)" value="0" />
							
				<SetProperty target="group1" propertyName="horizontalScrollPosition" value="25" />	
				
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.HOME)" value="-25" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.END)" value="-30" />		
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_RIGHT)" value="-30" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.RIGHT)" value="-30" />	
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_LEFT)" value="-30" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.LEFT)" value="-30" />			
				
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_horizontalScrollPositionDelta_UP_DOWN" keywords="[Group, viewport]" description="ensure UP/DOWN, PAGE_UP/PAGE_DOWN return 0">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="clipAndEnableScrolling" value="true" />
				<SetProperty target="group1" propertyName="width"  value="50" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="height"  value="200" waitTarget="group1"  waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value= new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.gap = 0" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.addCustomRect(application.group1, 100, 100, 0xCCCCCC)" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.addCustomRect(application.group1, 100, 100, 0xAAAAAA)" waitEvent="updateComplete" waitTarget="group1" />

			</setup>
			<body>			
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_UP)" value="0" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.PAGE_DOWN)" value="0" />	
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.UP)" value="0" />
				<AssertMethodValue method="value=application.group1.getHorizontalScrollPositionDelta(NavigationUnit.DOWN)" value="0" />
			</body>
		</TestCase>									
		
	<!-- measuredMinHeight / measuredHeight -->
	
		<TestCase testID="Group_viewport_VL_measuredHeight_empty" keywords="[Group, viewport]" description="ensure measuredHeight/measuredMinHeight is zero for empty group">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				<RunCode code="value=application.group1.layout.requestedRowCount = 10" waitEvent="updateComplete" waitTarget="group1" />
			</setup>
			<body>			
				<AssertPropertyValue target="group1" propertyName="measuredHeight" value="0" />
				<AssertPropertyValue target="group1" propertyName="measuredMinHeight" value="0" />
			</body>
		</TestCase>	
		
		<TestCase testID="Group_viewport_VL_measuredHeight_one" keywords="[Group, viewport]" description="check a group who has less items than requestedRowCount">
			<setup>
				<ResetComponent target="group1" className="spark.components.Group" waitTarget="group1" waitEvent="updateComplete" />
				<SetProperty target="group1" propertyName="layout" valueExpression="value=new VerticalLayout()" waitTarget="group1" waitEvent="updateComplete" />
				
				<RunCode code="value=application.group1.addElement(new Button())" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.getElementAt(0).height = 10;" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.getElementAt(0).minHeight = 1;" waitEvent="updateComplete" waitTarget="group1" />
				
				<RunCode code="value=application.group1.layout.gap = 0" waitEvent="updateComplete" waitTarget="group1" />
				<RunCode code="value=application.group1.layout.requestedRowCount = 10" waitEvent="updateComplete" waitTarget="group1" />
			</setup>
			<body>			
				<AssertPropertyValue target="group1" propertyName="measuredHeight" value="100" />
				<AssertPropertyValue target="group1" propertyName="measuredMinHeight" value="100" />
			</body>
		</TestCase>
																																	
  </testCases>
</UnitTester>